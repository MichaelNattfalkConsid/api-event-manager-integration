!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=203)}({203:function(e,t,n){e.exports=n(208)},208:function(e,t,n){"use strict";n.r(t);var a;(a=(a={})||{}).Event=a.Event||{},a.Event.Module=function(e){function t(){e(function(){this.initEventPagination()}.bind(this))}return t.prototype.initEventPagination=function(){e(".modularity-mod-event").each((function(n,a){var i=e(this).find("[data-module-id]").attr("data-module-id"),r=e(this).find(".module-pagination").attr("data-pages"),o=e(this).find(".module-pagination").attr("data-show-arrows"),c=e(this);e(this).find(".module-pagination").pagination({pages:r,displayedPages:4,edges:0,cssStyle:"",ellipsePageSet:!1,prevText:o?"&laquo;":"",nextText:o?"&raquo;":"",currentPage:1,selectOnClick:!1,onPageClick:function(n,a){t.prototype.loadEvents(n,i,c),e(c).find(".module-pagination").pagination("redraw"),e(c).find(".pagination a:not(.current)").each((function(){e(this).parent().addClass("disabled temporary")}))}})}))},t.prototype.loadEvents=function(t,n,a){var i=e(a).find(".event-module-content").height(),r=e(window).scrollTop(),o=e(a).offset().top;e.ajax({url:eventintegration.ajaxurl,type:"post",data:{action:"ajax_pagination",page:t,id:n},beforeSend:function(){e(a).find(".event-module-list").remove(),e(a).find(".event-module-content").append('<div class="event-loader"><div class="loading-wrapper"><div class="loading"><div></div><div></div><div></div><div></div></div></div></div>'),e(a).find(".event-loader").height(i),o<r&&e("html, body").animate({scrollTop:o},100)},success:function(t){e(a).find(".event-module-content").append(t).hide().fadeIn(80).height("auto")},error:function(){e(a).find(".event-module-content").append('<ul class="event-module-list"><li><p>'+eventIntegrationFront.event_pagination_error+"</p></li></ul>").hide().fadeIn(80).height("auto")},complete:function(){e(a).find(".event-loader").remove(),e(a).find(".pagination .temporary").each((function(){e(this).removeClass("disabled temporary")}))}})},new t}(jQuery);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(function(){if(!e)var e={};e.Event=e.Event||{},e.Event.Map=function(){function e(){"object"===("undefined"==typeof google?"undefined":i(google))&&"object"===i(google.maps)&&this.init()}return e.prototype.init=function(){var e,t,n,a,i,r,o;(e=document.getElementById("event-map"))&&(n={zoom:15,center:t={lat:parseFloat(e.getAttribute("data-lat")),lng:parseFloat(e.getAttribute("data-lng"))},disableDefaultUI:!1},a=new google.maps.Map(e,n),o=e.getAttribute("data-title")?e.getAttribute("data-title"):"",r=new google.maps.InfoWindow({content:"<b>"+o+"</b>"}),i=new google.maps.Marker({position:t,map:a}),o&&i.addListener("click",(function(){r.open(a,i)})))},new e}()})(),function(){if(!e)var e={};e.Event=e.Event||{},e.Event.Form=function(e){function t(){var t=this;document.addEventListener("DOMContentLoaded",(function(n){e(".submit-event").each(function(t,n){var a=eventintegration.apiurl;a=a.replace(/\/$/,""),e("#recurring-event",n).children(".box").hide(),this.handleEvents(e(n),a),this.hyperformExtensions(n),this.datePickerSettings(),null!==document.getElementById("location")&&this.loadPostType(e(n),a,"location"),null!==document.getElementById("organizer")&&this.loadPostType(e(n),a,"organizer"),null!==document.getElementById("user_groups")&&this.loadTaxonomy(e(n),a,"user_groups"),null!==document.getElementById("event_categories")&&this.loadTaxonomy(e(n),a,"event_categories"),null!==document.getElementById("event_tags")&&this.loadTaxonomy(e(n),a,"event_tags")}.bind(t))}))}function n(e){this.data=e,this.parent=null,this.children=[]}return t.prototype.hyperformExtensions=function(t){"submitter_repeat_email"in t&&hyperform.addValidator(t.submitter_repeat_email,(function(e){var n=e.value===t.submitter_email.value;return e.setCustomValidity(n?"":eventIntegrationFront.email_not_matching),n})),"image_input"in t&&hyperform.addValidator(t.image_input,(function(n){if(!e("#image_input").prop("required"))return!0;var a=n.files.length>0,i=t.querySelector(".image-notice"),r=document.createElement("p");return a||i||(r.innerHTML=eventIntegrationFront.must_upload_image,r.className="text-danger image-notice",t.querySelector(".image-box").appendChild(r)),n.setCustomValidity(a?"":eventIntegrationFront.must_upload_image),a}))},t.prototype.loadTaxonomy=function(n,a,i){a+="/"+i+"?_jsonp="+i+"&per_page=100";var r=document.getElementById(i);e.ajax({type:"GET",url:a,cache:!1,dataType:"jsonp",jsonpCallback:i,crossDomain:!0,success:function(n){if(e(r).html(""),"user_groups"===i||"event_categories"===i){var a=t.prototype.hierarchicalTax(n);e(a.children).each((function(n,a){t.prototype.addOption(a,r,""),e(a.children).each((function(n,a){t.prototype.addOption(a,r," – "),e(a.children).each((function(e,n){t.prototype.addOption(n,r," – – ")}))}))}))}else{e(a=n).each((function(e,t){var n=document.createElement("option");n.value=t.id,n.innerHTML+=t.name,r.appendChild(n)}))}}})},t.prototype.addOption=function(e,t,n){var a=document.createElement("option");a.value=e.data.id,a.innerHTML+=n,a.innerHTML+=e.data.name,t.appendChild(a)},n.comparer=function(e,t){return e.data.name<t.data.name?0:1},n.prototype.sortRecursive=function(){this.children.sort(t.prototype.comparer);for(var e=0,n=this.children.length;e<n;e++)this.children[e].sortRecursive();return this},t.prototype.hierarchicalTax=function(e){var t,a={},i=0,r=e.length;for(a[0]=new n,i=0;i<r;i++)a[e[i].id]=new n(e[i]);for(i=0;i<r;i++)(t=a[e[i].id]).parent=a[t.data.parent],t.parent.children.push(t);return a[0].sortRecursive()},t.prototype.loadPostType=function(t,n,a){n+="/"+a+"/complete?_jsonp=get"+a,new autoComplete({selector:"#"+a+"-selector",minChars:1,source:function(t,i){t=t.toLowerCase(),e.ajax({type:"GET",url:n,cache:!1,dataType:"jsonp",jsonpCallback:"get"+a,crossDomain:!0,success:function(n){var r=[];e(n).each((function(e,n){~n.title.toLowerCase().indexOf(t)&&r.push([n.title,n.id,a])})),i(r)}})},renderItem:function(e,t){t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var n=new RegExp("("+t.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-type="'+e[2]+'" data-langname="'+e[0]+'" data-lang="'+e[1]+'" data-val="'+t+'"> '+e[0].replace(n,"<b>$1</b>")+"</div>"},onSelect:function(t,n,a){e("#"+a.getAttribute("data-type")+"-selector").val(a.getAttribute("data-langname")),e("#"+a.getAttribute("data-type")).val(a.getAttribute("data-lang"))}})},t.prototype.jsonData=function(n){var a=n.serializeArray(),i={},r=[],o=[],c=[];return e.each(a,(function(t,n){switch(n.name){case"user_groups":r=e.map(n.value.split(","),(function(e){return parseInt(e,10)}));break;case"event_categories":o.push(parseInt(n.value));break;case"event_tags":c.push(parseInt(n.value));break;default:i[n.name]=n.value}})),i.occasions=[],e(".occurance-group-single",n).each((function(n){var a=t.prototype.formatDate(e('[name="start_date"]',this).val(),e('[name="start_time_h"]',this).val(),e('[name="start_time_m"]',this).val()),r=t.prototype.formatDate(e('[name="end_date"]',this).val(),e('[name="end_time_h"]',this).val(),e('[name="end_time_m"]',this).val());a&&r&&i.occasions.push({start_date:a,end_date:r,status:"scheduled",content_mode:"master"})})),i.rcr_rules=[],e(".occurance-group-recurring",n).each((function(n){var a=e('[name="recurring_start_h"]',this).val(),r=e('[name="recurring_start_m"]',this).val(),o=!(!a||!r)&&t.prototype.addZero(a)+":"+t.prototype.addZero(r)+":00",c=e('[name="recurring_end_h"]',this).val(),l=e('[name="recurring_end_m"]',this).val(),s=!(!c||!l)&&t.prototype.addZero(c)+":"+t.prototype.addZero(l)+":00",u=!!t.prototype.isValidDate(e('[name="recurring_start_d"]',this).val())&&e('[name="recurring_start_d"]',this).val(),d=!!t.prototype.isValidDate(e('[name="recurring_end_d"]',this).val())&&e('[name="recurring_end_d"]',this).val();o&&s&&u&&d&&i.rcr_rules.push({rcr_week_day:e('[name="weekday"]',this).val(),rcr_weekly_interval:e('[name="weekly_interval"]',this).val(),rcr_start_time:o,rcr_end_time:s,rcr_start_date:u,rcr_end_date:d})})),e("#organizer",n).val()&&(i.organizers=[{organizer:e(n).find("#organizer").val(),main_organizer:!0}]),i.accessibility=[],e.each(e("input[name='accessibility']:checked"),(function(){i.accessibility.push(e(this).val())})),i.user_groups=r,i.event_categories=o,i.event_tags=c,i},t.prototype.submitImageAjax=function(t,n){return n.append("action","submit_image"),e.ajax({url:eventintegration.ajaxurl,type:"POST",cache:!1,contentType:!1,processData:!1,data:n,error:function(e,t){console.log(t)}})},t.prototype.submitEventAjax=function(n,a){e.ajax({url:eventintegration.ajaxurl,type:"POST",data:{action:"submit_event",data:a},success:function(a){a.success?(e(".submit-success",n).removeClass("hidden"),e(".submit-success .success",n).empty().append('<i class="fa fa-send"></i>Evenemanget har skickats!</li>'),t.prototype.cleanForm(n)):(console.log(a.data),e(".submit-success",n).addClass("hidden"),e(".submit-error",n).removeClass("hidden"),e(".submit-error .warning",n).empty().append('<i class="fa fa-warning"></i>'+a.data+"</li>"))},error:function(t,a){e(".submit-success",n).addClass("hidden"),e(".submit-error",n).removeClass("hidden"),e(".submit-error .warning",n).empty().append('<i class="fa fa-warning"></i>'+a+"</li>")}})},t.prototype.endHourChange=function(e){var t=e.target.closest(".occurrence");if(t){var n=t.querySelector('input[name="start_date"]').value,a=t.querySelector('input[name="end_date"]').value,i=t.querySelector('input[name="start_time_h"]').value;n>=a?e.target.setAttribute("min",i):e.target.setAttribute("min",0)}},t.prototype.endMinuteChange=function(e){var t=e.target.closest(".occurrence");if(t){var n=t.querySelector('input[name="start_date"]').value,a=t.querySelector('input[name="end_date"]').value,i=t.querySelector('input[name="start_time_h"]').value,r=t.querySelector('input[name="end_time_h"]').value,o=t.querySelector('input[name="start_time_m"]').value;n>=a&&i>=r?(o=parseInt(o)+10)>=60?t.querySelector('input[name="end_time_h"]').setAttribute("min",parseInt(i)+1):e.target.setAttribute("min",o):e.target.setAttribute("min",0)}},t.prototype.initPickerEvent=function(){var t=document.querySelectorAll('input[name="start_date"]');Array.from(t).forEach(function(t){t.onchange=function(t){if(t.target.value){var n=t.target.closest(".occurrence");e(n).find('input[name="end_date"]').datepicker("option","minDate",new Date(t.target.value))}}.bind(this)}.bind(this))},t.prototype.initEndHourEvent=function(){var e=document.querySelectorAll('input[name="end_time_h"]');Array.from(e).forEach(function(e){e.onchange=this.endHourChange}.bind(this))},t.prototype.initEndMinuteEvent=function(){var e=document.querySelectorAll('input[name="end_time_m"]');Array.from(e).forEach(function(e){e.onchange=this.endMinuteChange}.bind(this))},t.prototype.initRecurringEndHourEvent=function(){var e=document.querySelectorAll('input[name="recurring_end_h"]');Array.from(e).forEach(function(e){e.onchange=function(e){var t=e.target.closest(".occurrence");if(t){var n=t.querySelector('input[name="recurring_start_h"]').value;e.target.setAttribute("min",n)}}}.bind(this))},t.prototype.initRecurringEndMinuteEvent=function(){var e=document.querySelectorAll('input[name="recurring_end_m"]');Array.from(e).forEach(function(e){e.onchange=function(e){var t=e.target.closest(".occurrence");if(t){var n=t.querySelector('input[name="recurring_start_h"]').value,a=t.querySelector('input[name="recurring_end_h"]').value,i=t.querySelector('input[name="recurring_start_m"]').value;n>=a?(i=parseInt(i)+10)>=60?t.querySelector('input[name="recurring_end_h"]').setAttribute("min",parseInt(n)+1):e.target.setAttribute("min",i):e.target.setAttribute("min",0)}}}.bind(this))},t.prototype.initDateEvents=function(){this.initPickerEvent(),this.initEndHourEvent(),this.initEndMinuteEvent(),this.initRecurringEndHourEvent(),this.initRecurringEndMinuteEvent()},t.prototype.datePickerSettings=function(){e.datepicker.setDefaults({minDate:"now",maxDate:(new Date).getDate()+365})},t.prototype.handleEvents=function(n,a){this.initDateEvents(),e(n).on("submit",function(a){a.preventDefault();var i=n.find("#image_input"),r=this.jsonData(n),o=new FormData;e(".submit-error",n).addClass("hidden"),e(".submit-success",n).removeClass("hidden"),e(".submit-success .success",n).empty().append('<i class="fa fa-send"></i>Skickar...</li>'),i.val()?(o.append("file",i[0].files[0]),e.when(this.submitImageAjax(n,o)).then((function(a,i){a.success?(r.featured_media=a.data,t.prototype.submitEventAjax(n,r)):(e(".submit-success",n).addClass("hidden"),e(".submit-error",n).removeClass("hidden"),e(".submit-error .warning",n).empty().append('<i class="fa fa-warning"></i>'+eventIntegrationFront.something_went_wrong+"</li>"))}))):this.submitEventAjax(n,r)}.bind(this)),e(".img-button",n).click((function(t){t.preventDefault(),e(".image-box",n).hide(),e(".image-approve",n).fadeIn()})),e("input[name=approve]",n).change((function(){var t=e("input:checkbox[id=first-approve]:checked",n).length>0,a=e("input:radio[name=approve]:checked").val(),i=e("input:checkbox[id=second-approve]:checked",n).length>0;(t&&0==a||t&&i)&&(e(".image-approve",n).hide(),e(".image-upload",n).fadeIn())})),e("input:radio[name=approve]").change((function(){1==this.value?e("#persons-approve").removeClass("hidden"):e("#persons-approve").addClass("hidden")})),e("input:radio[name=occurance-type]",n).change((function(t){var n=e(this).data("id");e("#"+n).children(".form-group .box").show().find("input").prop("required",!0),e("#"+n).siblings(".event-occasion").children(".box").hide().find("input").prop("required",!1)})),e(".add-occurance",n).click(function(t){t.preventDefault();var n=e(t.target).parent().prev("[class*=occurance-group]"),a=n.clone().find("input").val("").removeClass("hasDatepicker").removeAttr("id").end().insertAfter(n).find(".datepicker").datepicker().end();if(this.initDateEvents(),0===e(".remove-occurance",a).length){var i=e('<div class="form-group"><button class="btn btn btn-sm remove-occurance"><i class="pricon pricon-minus-o"></i> Ta bort</button></div>');a.append(i)}}.bind(this)),e(document).on("click",".remove-occurance",(function(t){t.preventDefault(),e(this).closest("[class*=occurance-group]").remove()}))},t.prototype.cleanForm=function(t){e(":input",t).not(":button, :submit, :reset, :hidden, select").val("").removeAttr("selected")},t.prototype.formatDate=function(e,t,n){var a="";return this.isValidDate(e)&&t&&n&&(a=e+" "+this.addZero(t)+":"+this.addZero(n)+":00"),a},t.prototype.isValidDate=function(e){return null!=e.match(/^\d{4}-\d{2}-\d{2}$/)},t.prototype.addZero=function(e){return 1===e.toString().length&&(e="0"+e),e},new t}(jQuery)}(),function(){if(!e)var e={};e.Widget=e.Widget||{},e.Widget.TemplateParser=function(e){var t=new Date,n=t.getDate(),a=t.getMonth()+1,i=t.getFullYear(),r=["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"];function o(){this.init()}return o.prototype.init=function(){e(".event-api").each(function(t,r){var o=e(r).attr("data-apiurl");o=(o=o.replace(/\/$/,""))+"/event/time?start="+i+"-"+a+"-"+n+"&end="+(i+1)+"-"+a+"-"+n;var c=e(r).attr("post-limit"),l=e(r).attr("group-id"),s=e(r).attr("category-id"),u=e(r).attr("latlng"),d=e(r).attr("distance"),p=void 0!==c&&e.isNumeric(c)?o+"&post-limit="+c:o+"&post-limit=10";p+=void 0!==l&&l?"&group-id="+l:"",p+=void 0!==s&&s?"&category-id="+s:"",p+=void 0!==u&&u?"&latlng="+u:"",p+=void 0!==d&&d?"&distance="+d:"",p+="&_jsonp=getevents",this.storeErrorTemplate(e(r)),this.storeTemplate(e(r)),this.storeModalTemplate(e(r)),this.loadEvent(e(r),p)}.bind(this))},o.prototype.storeTemplate=function(t){t.data("template",e(".template",t).html()),t.find(".template").remove()},o.prototype.storeErrorTemplate=function(t){t.data("error-template",e(".error-template",t).html()),t.find(".error-template").remove()},o.prototype.storeModalTemplate=function(t){t.data("modal-template",e(".modal-template",t).html()),t.find(".modal-template").remove()},o.prototype.loadEvent=function(t,n){e.ajax({type:"GET",url:n,cache:!1,dataType:"jsonp",jsonpCallback:"getevents",crossDomain:!0,success:function(n){t.data("json-response",n),o.prototype.clear(t),e(n).each((function(n,a){var i="";e.each(a.occasions,(function(e,t){if(void 0!==t.current_occasion&&1==t.current_occasion)return i=t,!1}));var o=new Date(i.start_date),c=t.data("template");c=(c=(c=c.replace("{event-id}",a.id)).replace("{event-occasion}",o.getDate()+'<div class="clearfix"></div>'+r[o.getMonth()])).replace("{event-title}",'<p class="link-item">'+a.title.rendered+"</p>"),t.append(c)})),o.prototype.click(t)},error:function(e){o.prototype.clear(t),t.html(t.data("error-template"))}})},o.prototype.clear=function(e){jQuery(e).html("")},o.prototype.addZero=function(e){return e<10&&(e="0"+e),e},o.prototype.click=function(t){jQuery("li a",t).on("click",{},function(n){var a=jQuery(n.target).closest("a.modal-event").data("event-id");e.each(t.data("json-response"),function(n,i){if(i.id==a){var o=t.data("modal-template");o=(o=(o=(o=o.replace("{event-modal-title}",i.title.rendered)).replace("{event-modal-content}",null!=i.content.rendered?i.content.rendered:"")).replace("{event-modal-link}",null!=i.event_link?'<p><a href="'+i.event_link+'" target="_blank">'+i.event_link+"</a></p>":"")).replace("{event-modal-image}",null!=i.featured_media?"<img src="+i.featured_media.source_url+' alt="'+i.title.rendered+'" style="display:block; width:100%;">':"");var c="";e.each(i.occasions,function(e,t){var n=new Date(t.start_date),a=this.addZero(n.getDate())+" "+r[n.getMonth()]+" "+n.getFullYear()+" kl. "+this.addZero(n.getHours())+":"+this.addZero(n.getMinutes()),i=new Date(t.end_date),o="";o=i.getDate()===n.getDate()?"kl. "+this.addZero(i.getHours())+":"+this.addZero(i.getMinutes()):i.getDate()+" "+r[i.getMonth()]+" "+i.getFullYear()+" kl. "+this.addZero(i.getHours())+":"+this.addZero(i.getMinutes()),c=c+'<li class="text-sm gutter-sm gutter-vertical">'+a+" - "+o+"</li>"}.bind(this)),o=o.replace("{event-modal-occations}",'<section class="accordion-section"><input type="radio" name="active-section" id="accordion-section-1"><label class="accordion-toggle" for="accordion-section-1"><h2>Evenemanget inträffar</h2></label><div class="accordion-content"><ul id="modal-occations">'+c+"</ul></div></section>");var l="";l+=null!=i.location&&null!=i.location.title?"<li><strong>"+i.location.title+"</strong></li>":"",l+=null!=i.location&&null!=i.location.street_address?"<li>"+i.location.street_address+"</li>":"",l+=null!=i.location&&null!=i.location.postal_code?"<li>"+i.location.postal_code+"</li>":"";var s=(l+=null!=i.location&&null!=i.location.city?"<il>"+i.location.city+"</li>":"")?'<section class="accordion-section"><input type="radio" name="active-section" id="accordion-section-2"><label class="accordion-toggle" for="accordion-section-2"><h2>Plats</h2></label><div class="accordion-content"><ul>'+l+"</ul></div></section>":"";o=o.replace("{event-modal-location}",s);var u="";u+=null!=i.booking_phone?"<li>Telefon: "+i.booking_phone+"</li>":"",u+=null!=i.price_adult?"<li>Pris: "+i.price_adult+" kr</li>":"",u+=null!=i.price_children?"<li>Barnpris: "+i.price_children+" kr</li>":"",u+=null!=i.price_senior?"<li>Pensionärspris: "+i.price_senior+" kr</li>":"",u+=null!=i.price_student?"<li>Studentpris: "+i.price_student+" kr</li>":"",u+=null!=i.age_restriction?"<li>Åldersgräns: "+i.age_restriction+" kr</li>":"";var d="";e.each(i.membership_cards,function(e,t){d=d+"<li>"+t.post_title+"</li>"}.bind(this)),u+=d?"<li>&nbsp;</li><li><strong>Ingår i medlemskort</strong></li>"+d:"";var p=(u+=null!=i.booking_link?'<li>&nbsp;</li><li><a href="'+i.booking_link+'" class="link-item" target="_blank">Boka bljetter här</a></li>':"")?'<section class="accordion-section"><input type="radio" name="active-section" id="accordion-section-3"><label class="accordion-toggle" for="accordion-section-3"><h2>Bokning</h2></label><div class="accordion-content"><ul>'+u+"</ul></div></section>":"";o=o.replace("{event-modal-booking}",p),e("#modal-event").remove(),e("body").append(o)}}.bind(this))}.bind(this))},new o}(jQuery)}()}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc291cmNlL2pzL2Zyb250L2V2ZW50LXBhZ2luYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc291cmNlL2pzL2Zyb250L2V2ZW50LW1hcC5qcyIsIndlYnBhY2s6Ly8vLi9zb3VyY2UvanMvZnJvbnQvZXZlbnQtc3VibWl0LmpzIiwid2VicGFjazovLy8uL3NvdXJjZS9qcy9mcm9udC9ldmVudC13aWRnZXQuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJFdmVudE1hbmFnZXJJbnRlZ3JhdGlvbiIsIkV2ZW50IiwiTW9kdWxlIiwiJCIsInRoaXMiLCJpbml0RXZlbnRQYWdpbmF0aW9uIiwiZWFjaCIsImZpbmQiLCJhdHRyIiwicGFnZXMiLCJzaG93QXJyb3dzIiwicGFnaW5hdGlvbiIsImRpc3BsYXllZFBhZ2VzIiwiZWRnZXMiLCJjc3NTdHlsZSIsImVsbGlwc2VQYWdlU2V0IiwicHJldlRleHQiLCJuZXh0VGV4dCIsImN1cnJlbnRQYWdlIiwic2VsZWN0T25DbGljayIsIm9uUGFnZUNsaWNrIiwicGFnZSIsImV2ZW50IiwibG9hZEV2ZW50cyIsInBhcmVudCIsImFkZENsYXNzIiwiaGVpZ2h0Iiwid2luZG93VG9wIiwid2luZG93Iiwic2Nyb2xsVG9wIiwibW9kdWxlVG9wIiwib2Zmc2V0IiwidG9wIiwiYWpheCIsInVybCIsImV2ZW50aW50ZWdyYXRpb24iLCJhamF4dXJsIiwidHlwZSIsImRhdGEiLCJhY3Rpb24iLCJpZCIsImJlZm9yZVNlbmQiLCJyZW1vdmUiLCJhcHBlbmQiLCJhbmltYXRlIiwic3VjY2VzcyIsImh0bWwiLCJoaWRlIiwiZmFkZUluIiwiZXJyb3IiLCJldmVudEludGVncmF0aW9uRnJvbnQiLCJldmVudF9wYWdpbmF0aW9uX2Vycm9yIiwiY29tcGxldGUiLCJyZW1vdmVDbGFzcyIsImpRdWVyeSIsIk1hcCIsImdvb2dsZSIsIm1hcHMiLCJpbml0IiwibWFwRWxlbWVudCIsInBvc2l0aW9uIiwibWFwT3B0aW9ucyIsIm1hcCIsIm1hcmtlciIsImluZm93aW5kb3ciLCJsb2NhdGlvblRpdGxlIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInpvb20iLCJjZW50ZXIiLCJsYXQiLCJwYXJzZUZsb2F0IiwiZ2V0QXR0cmlidXRlIiwibG5nIiwiZGlzYWJsZURlZmF1bHRVSSIsIkluZm9XaW5kb3ciLCJjb250ZW50IiwiTWFya2VyIiwiYWRkTGlzdGVuZXIiLCJvcGVuIiwiRm9ybSIsImFkZEV2ZW50TGlzdGVuZXIiLCJpbmRleCIsImV2ZW50Rm9ybSIsImFwaVVybCIsImFwaXVybCIsInJlcGxhY2UiLCJjaGlsZHJlbiIsImhhbmRsZUV2ZW50cyIsImh5cGVyZm9ybUV4dGVuc2lvbnMiLCJkYXRlUGlja2VyU2V0dGluZ3MiLCJsb2FkUG9zdFR5cGUiLCJsb2FkVGF4b25vbXkiLCJUcmVlTm9kZSIsImh5cGVyZm9ybSIsImFkZFZhbGlkYXRvciIsInN1Ym1pdHRlcl9yZXBlYXRfZW1haWwiLCJlbGVtZW50IiwidmFsaWQiLCJzdWJtaXR0ZXJfZW1haWwiLCJzZXRDdXN0b21WYWxpZGl0eSIsImVtYWlsX25vdF9tYXRjaGluZyIsImltYWdlX2lucHV0IiwicHJvcCIsImZpbGVzIiwibGVuZ3RoIiwibm90aWNlIiwicXVlcnlTZWxlY3RvciIsIm5vdGljZUh0bWwiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwibXVzdF91cGxvYWRfaW1hZ2UiLCJjbGFzc05hbWUiLCJhcHBlbmRDaGlsZCIsInJlc291cmNlIiwidGF4b25vbXkiLCJzZWxlY3QiLCJjYWNoZSIsImRhdGFUeXBlIiwianNvbnBDYWxsYmFjayIsImNyb3NzRG9tYWluIiwicmVzcG9uc2UiLCJ0YXhvbm9taWVzIiwiaGllcmFyY2hpY2FsVGF4IiwidGF4IiwiYWRkT3B0aW9uIiwidGVybSIsIm9wdCIsImRlcHRoIiwiY29tcGFyZXIiLCJhIiwiYiIsInNvcnRSZWN1cnNpdmUiLCJzb3J0Iiwibm9kZSIsIm5vZGVCeUlkIiwicHVzaCIsInBvc3RUeXBlIiwiYXV0b0NvbXBsZXRlIiwic2VsZWN0b3IiLCJtaW5DaGFycyIsInNvdXJjZSIsInN1Z2dlc3QiLCJ0b0xvd2VyQ2FzZSIsInN1Z2dlc3Rpb25zIiwiaXRlbSIsInRpdGxlIiwiaW5kZXhPZiIsInJlbmRlckl0ZW0iLCJzZWFyY2giLCJyZSIsIlJlZ0V4cCIsInNwbGl0Iiwiam9pbiIsIm9uU2VsZWN0IiwiZSIsInZhbCIsImpzb25EYXRhIiwiZm9ybSIsImFyckRhdGEiLCJzZXJpYWxpemVBcnJheSIsIm9iakRhdGEiLCJncm91cHMiLCJjYXRlZ29yaWVzIiwidGFncyIsImVsZW0iLCJwYXJzZUludCIsInN0YXJ0RGF0ZSIsImZvcm1hdERhdGUiLCJlbmREYXRlIiwic3RhcnRfZGF0ZSIsImVuZF9kYXRlIiwic3RhdHVzIiwiY29udGVudF9tb2RlIiwicmNyU3RhcnRIIiwicmNyU3RhcnRNIiwicmNyU3RhcnRUaW1lIiwiYWRkWmVybyIsInJjckVuZEgiLCJyY3JFbmRNIiwicmNyRW5kVGltZSIsInJjclN0YXJ0RGF0ZSIsImlzVmFsaWREYXRlIiwicmNyRW5kRGF0ZSIsInJjcl93ZWVrX2RheSIsInJjcl93ZWVrbHlfaW50ZXJ2YWwiLCJyY3Jfc3RhcnRfdGltZSIsInJjcl9lbmRfdGltZSIsInJjcl9zdGFydF9kYXRlIiwicmNyX2VuZF9kYXRlIiwib3JnYW5pemVyIiwibWFpbl9vcmdhbml6ZXIiLCJzdWJtaXRJbWFnZUFqYXgiLCJpbWFnZURhdGEiLCJjb250ZW50VHlwZSIsInByb2Nlc3NEYXRhIiwianFYSFIiLCJ0ZXh0U3RhdHVzIiwiY29uc29sZSIsImxvZyIsInN1Ym1pdEV2ZW50QWpheCIsImZvcm1EYXRhIiwiZW1wdHkiLCJjbGVhbkZvcm0iLCJlbmRIb3VyQ2hhbmdlIiwid3JhcHBlciIsInRhcmdldCIsImNsb3Nlc3QiLCJzdGFydFRpbWVIIiwic2V0QXR0cmlidXRlIiwiZW5kTWludXRlQ2hhbmdlIiwiZW5kVGltZUgiLCJzdGFydFRpbWVNIiwiaW5pdFBpY2tlckV2ZW50IiwiZWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiQXJyYXkiLCJmcm9tIiwiZm9yRWFjaCIsIm9uY2hhbmdlIiwiZGF0ZXBpY2tlciIsIkRhdGUiLCJpbml0RW5kSG91ckV2ZW50IiwiaW5pdEVuZE1pbnV0ZUV2ZW50IiwiaW5pdFJlY3VycmluZ0VuZEhvdXJFdmVudCIsImluaXRSZWN1cnJpbmdFbmRNaW51dGVFdmVudCIsImluaXREYXRlRXZlbnRzIiwic2V0RGVmYXVsdHMiLCJtaW5EYXRlIiwibWF4RGF0ZSIsImdldERhdGUiLCJvbiIsInByZXZlbnREZWZhdWx0IiwiZmlsZUlucHV0IiwiRm9ybURhdGEiLCJ3aGVuIiwidGhlbiIsInNvbWV0aGluZ193ZW50X3dyb25nIiwiY2xpY2siLCJjaGFuZ2UiLCJmaXJzdENoZWNrIiwicmFkaW9DaGVjayIsInNlY29uZENoZWNrIiwic2hvdyIsInNpYmxpbmdzIiwiJG9jY3VyYW5jZUdyb3VwIiwicHJldiIsIiRkdXBsaWNhdGUiLCJjbG9uZSIsInJlbW92ZUF0dHIiLCJlbmQiLCJpbnNlcnRBZnRlciIsIiRyZW1vdmVCdXR0b24iLCJub3QiLCJkYXRlIiwiaGgiLCJtbSIsImRhdGVUaW1lIiwiZGF0ZVN0cmluZyIsIm1hdGNoIiwidG9TdHJpbmciLCJXaWRnZXQiLCJUZW1wbGF0ZVBhcnNlciIsImRkIiwiZ2V0TW9udGgiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJtb250aHMiLCJkYXRhQXBpdXJsIiwiZGF0YUxpbWl0IiwiZGF0YUdyb3VwSWQiLCJkYXRhQ2F0ZWdvcnlJZCIsImxhdGxuZyIsImRpc3RhbmNlIiwiaXNOdW1lcmljIiwic3RvcmVFcnJvclRlbXBsYXRlIiwic3RvcmVUZW1wbGF0ZSIsInN0b3JlTW9kYWxUZW1wbGF0ZSIsImxvYWRFdmVudCIsImNsZWFyIiwiZXZlbnRPY2Nhc2lvbiIsIm9jY2FzaW9ucyIsIm9jY2F0aW9uaW5kZXgiLCJvY2NhdGlvbiIsImN1cnJlbnRfb2NjYXNpb24iLCJvY2Nhc2lvbkRhdGUiLCJtb2R1bGVUZW1wbGF0ZSIsInJlbmRlcmVkIiwiZXZlbnRJZCIsIm1vZGFsVGVtcGxhdGUiLCJldmVudF9saW5rIiwiZmVhdHVyZWRfbWVkaWEiLCJzb3VyY2VfdXJsIiwibW9kYWxPY2NhdGlvblJlc3VsdCIsInN0YXJ0IiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwibG9jYXRpb25EYXRhIiwibG9jYXRpb24iLCJzdHJlZXRfYWRkcmVzcyIsInBvc3RhbF9jb2RlIiwiY2l0eSIsImJvb2tpbmdEYXRhIiwiYm9va2luZ19waG9uZSIsInByaWNlX2FkdWx0IiwicHJpY2VfY2hpbGRyZW4iLCJwcmljZV9zZW5pb3IiLCJwcmljZV9zdHVkZW50IiwiYWdlX3Jlc3RyaWN0aW9uIiwibWVtYmVyc2hpcENhcmRzIiwibWVtYmVyc2hpcF9jYXJkcyIsImNhcmRpbmRleCIsImNhcmQiLCJwb3N0X3RpdGxlIiwiYm9va2luZyIsImJvb2tpbmdfbGluayJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFD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QUF5QixnQkFBa0JyVCxFQUFPcVQsY0FBZ0IsUUFBVSxHQUNuR0QsR0FBc0MsTUFBdEJwVCxFQUFPc1QsWUFBdUIsYUFBZXRULEVBQU9zVCxZQUFjLFdBQWEsR0FDL0ZGLEdBQXlDLE1BQXpCcFQsRUFBT3VULGVBQTBCLGlCQUFtQnZULEVBQU91VCxlQUFpQixXQUFhLEdBQ3pHSCxHQUF1QyxNQUF2QnBULEVBQU93VCxhQUF3Qix1QkFBeUJ4VCxFQUFPd1QsYUFBZSxXQUFhLEdBQzNHSixHQUF3QyxNQUF4QnBULEVBQU95VCxjQUF5QixvQkFBc0J6VCxFQUFPeVQsY0FBZ0IsV0FBYSxHQUMxR0wsR0FBMEMsTUFBMUJwVCxFQUFPMFQsZ0JBQTJCLG9CQUFzQjFULEVBQU8wVCxnQkFBa0IsV0FBYSxHQUNsSCxJQUFJQyxFQUFrQixHQUN0QmxULEVBQUVHLEtBQUtaLEVBQU80VCxpQkFBa0IsU0FBU0MsRUFBVUMsR0FDL0NILEVBQWtCQSxFQUFrQixPQUFTRyxFQUFLQyxXQUFhLFNBQ2pFalUsS0FBS1ksT0FDSDBTLEdBQWdCTyxFQUFtQiwrREFBaUVBLEVBQWtCLEdBRTFILElBQUlLLEdBREFaLEdBQXVDLE1BQXZCcFQsRUFBT2lVLGFBQXdCLCtCQUFpQ2pVLEVBQU9pVSxhQUFlLGlFQUFtRSxJQUMvSSw4TkFBZ09iLEVBQWMsd0JBQTBCLEdBQ3RTYixFQUFnQkEsRUFBYzNNLFFBQVEsd0JBQXlCb08sR0FFbkV2VCxFQUFFLGdCQUFnQnVDLFNBQ2xCdkMsRUFBRSxRQUFRd0MsT0FBT3NQLEtBR3ZCelMsS0FBS1ksUUFFVFosS0FBS1ksUUFJSixJQUFJa1EsRUF4TGtDLENBMEw5Q2hOLFFBbE1RIiwiZmlsZSI6ImpzL2V2ZW50LWludGVncmF0aW9uLWZyb250LjJmYjg2ZTZhNGM2ZDBlZTUzNGRlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIwMyk7XG4iLCJleHBvcnQgZGVmYXVsdCAoKCkgPT4ge1xuXHQvLyBJbml0XG5cdHZhciBFdmVudE1hbmFnZXJJbnRlZ3JhdGlvbiA9IHt9O1xuXG5cdC8vIEluaXQgZXZlbnQgcGFnaW5hdGlvblxuXHRFdmVudE1hbmFnZXJJbnRlZ3JhdGlvbiA9IEV2ZW50TWFuYWdlckludGVncmF0aW9uIHx8IHt9O1xuXHRFdmVudE1hbmFnZXJJbnRlZ3JhdGlvbi5FdmVudCA9IEV2ZW50TWFuYWdlckludGVncmF0aW9uLkV2ZW50IHx8IHt9O1xuXG5cdEV2ZW50TWFuYWdlckludGVncmF0aW9uLkV2ZW50Lk1vZHVsZSA9IChmdW5jdGlvbiAoJCkge1xuXG5cdFx0ZnVuY3Rpb24gTW9kdWxlKCkge1xuXHRcdFx0JChmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5pbml0RXZlbnRQYWdpbmF0aW9uKCk7XG5cdFx0XHR9LmJpbmQodGhpcykpO1xuXHRcdH1cblxuXHRcdC8vIExvYWQgcGFnaW5hdGlvbiBiYXIgdG8gZXZlbnQgbW9kdWxlc1xuXHRcdE1vZHVsZS5wcm90b3R5cGUuaW5pdEV2ZW50UGFnaW5hdGlvbiA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdCQoXCIubW9kdWxhcml0eS1tb2QtZXZlbnRcIikuZWFjaChmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIG1vZHVsZUlkIFx0PSAkKHRoaXMpLmZpbmQoJ1tkYXRhLW1vZHVsZS1pZF0nKS5hdHRyKCdkYXRhLW1vZHVsZS1pZCcpO1xuXHRcdFx0XHR2YXIgcGFnZXMgXHQgXHQ9ICQodGhpcykuZmluZCgnLm1vZHVsZS1wYWdpbmF0aW9uJykuYXR0cignZGF0YS1wYWdlcycpO1xuXHRcdFx0XHR2YXIgc2hvd0Fycm93cyBcdD0gJCh0aGlzKS5maW5kKCcubW9kdWxlLXBhZ2luYXRpb24nKS5hdHRyKCdkYXRhLXNob3ctYXJyb3dzJyk7XG5cdFx0XHRcdHZhciBtb2R1bGUgICBcdD0gJCh0aGlzKTtcblxuXHRcdFx0XHQkKHRoaXMpLmZpbmQoJy5tb2R1bGUtcGFnaW5hdGlvbicpLnBhZ2luYXRpb24oe1xuXHRcdFx0XHRcdHBhZ2VzOiBwYWdlcyxcblx0XHRcdFx0XHRkaXNwbGF5ZWRQYWdlczogNCxcblx0XHRcdFx0XHRlZGdlczogMCxcblx0XHRcdFx0XHRjc3NTdHlsZTogJycsXG5cdFx0XHRcdFx0ZWxsaXBzZVBhZ2VTZXQ6IGZhbHNlLFxuXHRcdFx0XHRcdHByZXZUZXh0OiAoc2hvd0Fycm93cykgPyAnJmxhcXVvOycgOiAnJyxcblx0XHRcdFx0XHRuZXh0VGV4dDogKHNob3dBcnJvd3MpID8gJyZyYXF1bzsnIDogJycsXG5cdFx0XHRcdFx0Y3VycmVudFBhZ2U6IDEsXG5cdFx0XHRcdFx0c2VsZWN0T25DbGljazogZmFsc2UsXG5cdFx0XHRcdFx0b25QYWdlQ2xpY2s6IGZ1bmN0aW9uKHBhZ2UsIGV2ZW50KSB7XG5cdFx0XHRcdFx0XHRNb2R1bGUucHJvdG90eXBlLmxvYWRFdmVudHMocGFnZSwgbW9kdWxlSWQsIG1vZHVsZSk7XG5cdFx0XHRcdFx0XHQkKG1vZHVsZSkuZmluZCgnLm1vZHVsZS1wYWdpbmF0aW9uJykucGFnaW5hdGlvbigncmVkcmF3Jyk7XG5cdFx0XHRcdFx0XHQkKG1vZHVsZSkuZmluZCgnLnBhZ2luYXRpb24gYTpub3QoLmN1cnJlbnQpJykuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0JCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcygnZGlzYWJsZWQgdGVtcG9yYXJ5Jyk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHQvLyBHZXQgZXZlbnQgbGlzdCB3aXRoIEFqYXggb24gcGFnaW5hdGlvbiBjbGlja1xuXHRcdE1vZHVsZS5wcm90b3R5cGUubG9hZEV2ZW50cyA9IGZ1bmN0aW9uIChwYWdlLCBtb2R1bGVJZCwgbW9kdWxlKSB7XG5cdFx0XHR2YXIgaGVpZ2h0IFx0ICA9ICQobW9kdWxlKS5maW5kKCcuZXZlbnQtbW9kdWxlLWNvbnRlbnQnKS5oZWlnaHQoKTtcblx0XHRcdHZhciB3aW5kb3dUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XG5cdFx0XHR2YXIgbW9kdWxlVG9wID0gJChtb2R1bGUpLm9mZnNldCgpLnRvcDtcblxuXHRcdFx0JC5hamF4KHtcblx0XHRcdFx0dXJsOiBldmVudGludGVncmF0aW9uLmFqYXh1cmwsXG5cdFx0XHRcdHR5cGU6ICdwb3N0Jyxcblx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdGFjdGlvbjogJ2FqYXhfcGFnaW5hdGlvbicsXG5cdFx0XHRcdFx0cGFnZTogcGFnZSxcblx0XHRcdFx0XHRpZDogbW9kdWxlSWRcblx0XHRcdFx0fSxcblx0XHRcdFx0YmVmb3JlU2VuZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0JChtb2R1bGUpLmZpbmQoJy5ldmVudC1tb2R1bGUtbGlzdCcpLnJlbW92ZSgpO1xuXHRcdFx0XHRcdCQobW9kdWxlKS5maW5kKCcuZXZlbnQtbW9kdWxlLWNvbnRlbnQnKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJldmVudC1sb2FkZXJcIj48ZGl2IGNsYXNzPVwibG9hZGluZy13cmFwcGVyXCI+PGRpdiBjbGFzcz1cImxvYWRpbmdcIj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PicpO1xuXHRcdFx0XHRcdCQobW9kdWxlKS5maW5kKCcuZXZlbnQtbG9hZGVyJykuaGVpZ2h0KGhlaWdodCk7XG5cdFx0XHRcdFx0aWYgKG1vZHVsZVRvcCA8IHdpbmRvd1RvcCkge1xuXHRcdFx0XHRcdFx0JCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuXHRcdFx0XHRcdFx0c2Nyb2xsVG9wOiBtb2R1bGVUb3Bcblx0XHRcdFx0XHRcdH0sIDEwMCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihodG1sKSB7XG5cdFx0XHRcdFx0JChtb2R1bGUpLmZpbmQoJy5ldmVudC1tb2R1bGUtY29udGVudCcpLmFwcGVuZChodG1sKS5oaWRlKCkuZmFkZUluKDgwKS5oZWlnaHQoJ2F1dG8nKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0ZXJyb3I6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCQobW9kdWxlKS5maW5kKCcuZXZlbnQtbW9kdWxlLWNvbnRlbnQnKS5hcHBlbmQoJzx1bCBjbGFzcz1cImV2ZW50LW1vZHVsZS1saXN0XCI+PGxpPjxwPicgKyBldmVudEludGVncmF0aW9uRnJvbnQuZXZlbnRfcGFnaW5hdGlvbl9lcnJvciArICc8L3A+PC9saT48L3VsPicpLmhpZGUoKS5mYWRlSW4oODApLmhlaWdodCgnYXV0bycpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0JChtb2R1bGUpLmZpbmQoJy5ldmVudC1sb2FkZXInKS5yZW1vdmUoKTtcblx0XHRcdFx0XHQkKG1vZHVsZSkuZmluZCgnLnBhZ2luYXRpb24gLnRlbXBvcmFyeScpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCB0ZW1wb3JhcnknKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSxcblxuXHRcdFx0fSlcblx0XHR9O1xuXG5cdFx0cmV0dXJuIG5ldyBNb2R1bGUoKTtcblx0fSkoalF1ZXJ5KTtcblxufSkoKTsiLCJleHBvcnQgZGVmYXVsdCAoKCkgPT4ge1xuICAgIGlmKCFFdmVudE1hbmFnZXJJbnRlZ3JhdGlvbil7IHZhciBFdmVudE1hbmFnZXJJbnRlZ3JhdGlvbiA9IHt9OyB9XG4gICAgLy8gRXZlbnRNYW5hZ2VySW50ZWdyYXRpb24gPSBFdmVudE1hbmFnZXJJbnRlZ3JhdGlvbiB8fCB7fTtcbiAgICBFdmVudE1hbmFnZXJJbnRlZ3JhdGlvbi5FdmVudCA9IEV2ZW50TWFuYWdlckludGVncmF0aW9uLkV2ZW50IHx8IHt9O1xuXG4gICAgRXZlbnRNYW5hZ2VySW50ZWdyYXRpb24uRXZlbnQuTWFwID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIGZ1bmN0aW9uIE1hcCgpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZ29vZ2xlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgZ29vZ2xlLm1hcHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBNYXAucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBtYXBFbGVtZW50LFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIG1hcE9wdGlvbnMsXG4gICAgICAgICAgICAgICAgbWFwLFxuICAgICAgICAgICAgICAgIG1hcmtlcixcbiAgICAgICAgICAgICAgICBpbmZvd2luZG93LFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uVGl0bGU7XG5cbiAgICAgICAgICAgIG1hcEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXZlbnQtbWFwJyk7XG5cbiAgICAgICAgICAgIGlmICghbWFwRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcG9zaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgbGF0OiBwYXJzZUZsb2F0KG1hcEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWxhdCcpKSxcbiAgICAgICAgICAgICAgICBsbmc6IHBhcnNlRmxvYXQobWFwRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbG5nJykpXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBtYXBPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHpvb206IDE1LFxuICAgICAgICAgICAgICAgIGNlbnRlcjogcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgZGlzYWJsZURlZmF1bHRVSTogZmFsc2VcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAobWFwRWxlbWVudCwgbWFwT3B0aW9ucyk7XG4gICAgICAgICAgICBsb2NhdGlvblRpdGxlID0gbWFwRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGl0bGUnKSA/IG1hcEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXRpdGxlJykgOiAnJztcblxuICAgICAgICAgICAgaW5mb3dpbmRvdyA9IG5ldyBnb29nbGUubWFwcy5JbmZvV2luZG93KHtcbiAgICAgICAgICAgICAgICBjb250ZW50OiAnPGI+JyArIGxvY2F0aW9uVGl0bGUgKyAnPC9iPidcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgbWFwOiBtYXBcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAobG9jYXRpb25UaXRsZSkge1xuICAgICAgICAgICAgICAgIG1hcmtlci5hZGRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5mb3dpbmRvdy5vcGVuKG1hcCwgbWFya2VyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV3IE1hcCgpO1xuICAgIH0pKCk7XG5cbn0pKCk7IiwiZXhwb3J0IGRlZmF1bHQgKCgpID0+IHtcbiAgICAvLyBJbml0IHN1Ym1pdCBldmVudCBmb3JtXG4gICAgaWYoIUV2ZW50TWFuYWdlckludGVncmF0aW9uKXsgdmFyIEV2ZW50TWFuYWdlckludGVncmF0aW9uID0ge307IH1cblxuICAgIEV2ZW50TWFuYWdlckludGVncmF0aW9uLkV2ZW50ID0gRXZlbnRNYW5hZ2VySW50ZWdyYXRpb24uRXZlbnQgfHwge307XG5cbiAgICBFdmVudE1hbmFnZXJJbnRlZ3JhdGlvbi5FdmVudC5Gb3JtID0gKGZ1bmN0aW9uKCQpIHtcbiAgICAgICAgZnVuY3Rpb24gRm9ybSgpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgJCgnLnN1Ym1pdC1ldmVudCcpLmVhY2goXG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbihpbmRleCwgZXZlbnRGb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGFwaVVybCA9IGV2ZW50aW50ZWdyYXRpb24uYXBpdXJsO1xuICAgICAgICAgICAgICAgICAgICAgIGFwaVVybCA9IGFwaVVybC5yZXBsYWNlKC9cXC8kLywgJycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgJCgnI3JlY3VycmluZy1ldmVudCcsIGV2ZW50Rm9ybSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLmNoaWxkcmVuKCcuYm94JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUV2ZW50cygkKGV2ZW50Rm9ybSksIGFwaVVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5oeXBlcmZvcm1FeHRlbnNpb25zKGV2ZW50Rm9ybSk7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRlUGlja2VyU2V0dGluZ3MoKTtcblxuICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9jYXRpb24nKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRQb3N0VHlwZSgkKGV2ZW50Rm9ybSksIGFwaVVybCwgJ2xvY2F0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3JnYW5pemVyJykgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkUG9zdFR5cGUoJChldmVudEZvcm0pLCBhcGlVcmwsICdvcmdhbml6ZXInKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyX2dyb3VwcycpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFRheG9ub215KCQoZXZlbnRGb3JtKSwgYXBpVXJsLCAndXNlcl9ncm91cHMnKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdldmVudF9jYXRlZ29yaWVzJykgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkVGF4b25vbXkoJChldmVudEZvcm0pLCBhcGlVcmwsICdldmVudF9jYXRlZ29yaWVzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXZlbnRfdGFncycpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFRheG9ub215KCQoZXZlbnRGb3JtKSwgYXBpVXJsLCAnZXZlbnRfdGFncycpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGN1c3RvbSB2YWxpZGF0aW9ucyB3aXRoIEh5cGVyZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgRm9ybS5wcm90b3R5cGUuaHlwZXJmb3JtRXh0ZW5zaW9ucyA9IGZ1bmN0aW9uKGV2ZW50Rm9ybSkge1xuICAgICAgICAgICAgLy8gTWF0Y2ggZW1haWwgYWRkcmVzc2VzXG5cbiAgICAgICAgICAgIGlmICgnc3VibWl0dGVyX3JlcGVhdF9lbWFpbCcgaW4gZXZlbnRGb3JtKSB7XG4gICAgICAgICAgICAgICAgaHlwZXJmb3JtLmFkZFZhbGlkYXRvcihldmVudEZvcm0uc3VibWl0dGVyX3JlcGVhdF9lbWFpbCwgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50LnZhbHVlID09PSBldmVudEZvcm0uc3VibWl0dGVyX2VtYWlsLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNldEN1c3RvbVZhbGlkaXR5KHZhbGlkID8gJycgOiBldmVudEludGVncmF0aW9uRnJvbnQuZW1haWxfbm90X21hdGNoaW5nKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsaWQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgnaW1hZ2VfaW5wdXQnIGluIGV2ZW50Rm9ybSkge1xuICAgICAgICAgICAgICAgIGh5cGVyZm9ybS5hZGRWYWxpZGF0b3IoZXZlbnRGb3JtLmltYWdlX2lucHV0LCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghJCgnI2ltYWdlX2lucHV0JykucHJvcCgncmVxdWlyZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50LmZpbGVzLmxlbmd0aCA+IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBub3RpY2UgPSBldmVudEZvcm0ucXVlcnlTZWxlY3RvcignLmltYWdlLW5vdGljZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm90aWNlSHRtbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkICYmICFub3RpY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGljZUh0bWwuaW5uZXJIVE1MID0gZXZlbnRJbnRlZ3JhdGlvbkZyb250Lm11c3RfdXBsb2FkX2ltYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm90aWNlSHRtbC5jbGFzc05hbWUgPSAndGV4dC1kYW5nZXIgaW1hZ2Utbm90aWNlJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50Rm9ybS5xdWVyeVNlbGVjdG9yKCcuaW1hZ2UtYm94JykuYXBwZW5kQ2hpbGQobm90aWNlSHRtbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNldEN1c3RvbVZhbGlkaXR5KHZhbGlkID8gJycgOiBldmVudEludGVncmF0aW9uRnJvbnQubXVzdF91cGxvYWRfaW1hZ2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWxpZDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBHZXQgdGF4b25vbWllcyBmcm9tIEFQSSBhbmQgYWRkIHRvIHNlbGVjdCBib3hcbiAgICAgICAgRm9ybS5wcm90b3R5cGUubG9hZFRheG9ub215ID0gZnVuY3Rpb24oZXZlbnRGb3JtLCByZXNvdXJjZSwgdGF4b25vbXkpIHtcbiAgICAgICAgICAgIHJlc291cmNlICs9ICcvJyArIHRheG9ub215ICsgJz9fanNvbnA9JyArIHRheG9ub215ICsgJyZwZXJfcGFnZT0xMDAnO1xuICAgICAgICAgICAgdmFyIHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRheG9ub215KTtcblxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmw6IHJlc291cmNlLFxuICAgICAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb25wJyxcbiAgICAgICAgICAgICAgICBqc29ucENhbGxiYWNrOiB0YXhvbm9teSxcbiAgICAgICAgICAgICAgICBjcm9zc0RvbWFpbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDbGVhciBzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgJChzZWxlY3QpLmh0bWwoJycpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1hcCB1cCBhbmQgcG9wdWxhdGUgaGllcmFyY2hpY2FsIHRheG9ub21pZXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRheG9ub215ID09PSAndXNlcl9ncm91cHMnIHx8IHRheG9ub215ID09PSAnZXZlbnRfY2F0ZWdvcmllcycpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRheG9ub21pZXMgPSBGb3JtLnByb3RvdHlwZS5oaWVyYXJjaGljYWxUYXgocmVzcG9uc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBzZWxlY3Qgb3B0aW9uIGFuZCBpdCdzIGNoaWxkcmVuIHRheG9ub21pZXNcbiAgICAgICAgICAgICAgICAgICAgJCh0YXhvbm9taWVzLmNoaWxkcmVuKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgdGF4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQYXJlbnQgb3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBGb3JtLnByb3RvdHlwZS5hZGRPcHRpb24odGF4LCBzZWxlY3QsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGF4LmNoaWxkcmVuKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgdGF4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGlsZHJlbiBvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIEZvcm0ucHJvdG90eXBlLmFkZE9wdGlvbih0YXgsIHNlbGVjdCwgJyDigJMgJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRheC5jaGlsZHJlbikuZWFjaChmdW5jdGlvbiAoaW5kZXgsIHRheCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdyYW5kIGNoaWxkcmVuIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3JtLnByb3RvdHlwZS5hZGRPcHRpb24odGF4LCBzZWxlY3QsICcg4oCTIOKAkyAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBQb3B1bGF0ZSBub24gaGllcmFyY2hpY2FsIHRheG9ub215IGxpc3RzXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXhvbm9taWVzID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgICQodGF4b25vbWllcykuZWFjaChmdW5jdGlvbiAoaW5kZXgsIHRlcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC52YWx1ZSA9IHRlcm0uaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHQuaW5uZXJIVE1MICs9IHRlcm0ubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBGb3JtLnByb3RvdHlwZS5hZGRPcHRpb24gPSBmdW5jdGlvbih0YXhvbm9teSwgc2VsZWN0LCBkZXB0aCkge1xuICAgICAgICAgICAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgb3B0LnZhbHVlID0gdGF4b25vbXkuZGF0YS5pZDtcbiAgICAgICAgICAgIG9wdC5pbm5lckhUTUwgKz0gZGVwdGg7XG4gICAgICAgICAgICBvcHQuaW5uZXJIVE1MICs9IHRheG9ub215LmRhdGEubmFtZTtcbiAgICAgICAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIFRyZWVOb2RlKGRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBUcmVlTm9kZS5jb21wYXJlciA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBhLmRhdGEubmFtZSA8IGIuZGF0YS5uYW1lID8gMCA6IDE7XG4gICAgICAgIH07XG5cbiAgICAgICAgVHJlZU5vZGUucHJvdG90eXBlLnNvcnRSZWN1cnNpdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc29ydChGb3JtLnByb3RvdHlwZS5jb21wYXJlcik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5zb3J0UmVjdXJzaXZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBMaXN0IHRheG9ub215IG9iamVjdHMgaGllcmFyY2hpY2FsXG4gICAgICAgIEZvcm0ucHJvdG90eXBlLmhpZXJhcmNoaWNhbFRheCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBub2RlQnlJZCA9IHt9LFxuICAgICAgICAgICAgICAgIGkgPSAwLFxuICAgICAgICAgICAgICAgIGwgPSBkYXRhLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBub2RlO1xuXG4gICAgICAgICAgICAvLyBSb290IG5vZGVcbiAgICAgICAgICAgIG5vZGVCeUlkWzBdID0gbmV3IFRyZWVOb2RlKCk7XG5cbiAgICAgICAgICAgIC8vIE1ha2UgVHJlZU5vZGUgb2JqZWN0cyBmb3IgZWFjaCBpdGVtXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbm9kZUJ5SWRbZGF0YVtpXS5pZF0gPSBuZXcgVHJlZU5vZGUoZGF0YVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBMaW5rIGFsbCBUcmVlTm9kZSBvYmplY3RzXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGVCeUlkW2RhdGFbaV0uaWRdO1xuICAgICAgICAgICAgICAgIG5vZGUucGFyZW50ID0gbm9kZUJ5SWRbbm9kZS5kYXRhLnBhcmVudF07XG4gICAgICAgICAgICAgICAgbm9kZS5wYXJlbnQuY2hpbGRyZW4ucHVzaChub2RlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5vZGVCeUlkWzBdLnNvcnRSZWN1cnNpdmUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBHZXQgYSBwb3N0IHR5cGUgZnJvbSBBUEkgYW5kIGFkZCB0byBpbnB1dCBpbml0IGF1dG9jb21wbGV0ZVxuICAgICAgICBGb3JtLnByb3RvdHlwZS5sb2FkUG9zdFR5cGUgPSBmdW5jdGlvbihldmVudEZvcm0sIHJlc291cmNlLCBwb3N0VHlwZSkge1xuICAgICAgICAgICAgcmVzb3VyY2UgKz0gJy8nICsgcG9zdFR5cGUgKyAnL2NvbXBsZXRlP19qc29ucD1nZXQnICsgcG9zdFR5cGU7XG4gICAgICAgICAgICBuZXcgYXV0b0NvbXBsZXRlKHtcbiAgICAgICAgICAgICAgICBzZWxlY3RvcjogJyMnICsgcG9zdFR5cGUgKyAnLXNlbGVjdG9yJyxcbiAgICAgICAgICAgICAgICBtaW5DaGFyczogMSxcbiAgICAgICAgICAgICAgICBzb3VyY2U6IGZ1bmN0aW9uKHRlcm0sIHN1Z2dlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGVybSA9IHRlcm0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiByZXNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbnAnLFxuICAgICAgICAgICAgICAgICAgICAgICAganNvbnBDYWxsYmFjazogJ2dldCcgKyBwb3N0VHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyb3NzRG9tYWluOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3VnZ2VzdGlvbnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHJlc3BvbnNlKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh+aXRlbS50aXRsZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YodGVybSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0aW9ucy5wdXNoKFtpdGVtLnRpdGxlLCBpdGVtLmlkLCBwb3N0VHlwZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3Qoc3VnZ2VzdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZW5kZXJJdGVtOiBmdW5jdGlvbihpdGVtLCBzZWFyY2gpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoID0gc2VhcmNoLnJlcGxhY2UoL1stXFwvXFxcXF4kKis/LigpfFtcXF17fV0vZywgJ1xcXFwkJicpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKCcoJyArIHNlYXJjaC5zcGxpdCgnICcpLmpvaW4oJ3wnKSArICcpJywgJ2dpJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImF1dG9jb21wbGV0ZS1zdWdnZXN0aW9uXCIgZGF0YS10eXBlPVwiJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtWzJdICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcIiBkYXRhLWxhbmduYW1lPVwiJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtWzBdICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcIiBkYXRhLWxhbmc9XCInICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1bMV0gK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1wiIGRhdGEtdmFsPVwiJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2ggK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1wiPiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1bMF0ucmVwbGFjZShyZSwgJzxiPiQxPC9iPicpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblNlbGVjdDogZnVuY3Rpb24oZSwgdGVybSwgaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAkKCcjJyArIGl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXR5cGUnKSArICctc2VsZWN0b3InKS52YWwoXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1sYW5nbmFtZScpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICQoJyMnICsgaXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdHlwZScpKS52YWwoaXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbGFuZycpKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gU2F2ZStmb3JtYXQgaW5wdXQgZGF0YSBhbmQgcmV0dXJuIGFzIG9iamVjdFxuICAgICAgICBGb3JtLnByb3RvdHlwZS5qc29uRGF0YSA9IGZ1bmN0aW9uKGZvcm0pIHtcbiAgICAgICAgICAgIHZhciBhcnJEYXRhID0gZm9ybS5zZXJpYWxpemVBcnJheSgpLFxuICAgICAgICAgICAgICAgIG9iakRhdGEgPSB7fSxcbiAgICAgICAgICAgICAgICBncm91cHMgPSBbXSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzID0gW10sXG4gICAgICAgICAgICAgICAgdGFncyA9IFtdO1xuXG4gICAgICAgICAgICAkLmVhY2goYXJyRGF0YSwgZnVuY3Rpb24oaW5kZXgsIGVsZW0pIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGVsZW0ubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd1c2VyX2dyb3Vwcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cHMgPSAkLm1hcChlbGVtLnZhbHVlLnNwbGl0KCcsJyksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdldmVudF9jYXRlZ29yaWVzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMucHVzaChwYXJzZUludChlbGVtLnZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZXZlbnRfdGFncyc6XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWdzLnB1c2gocGFyc2VJbnQoZWxlbS52YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmpEYXRhW2VsZW0ubmFtZV0gPSBlbGVtLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBPY2Nhc2lvblxuICAgICAgICAgICAgb2JqRGF0YVsnb2NjYXNpb25zJ10gPSBbXTtcbiAgICAgICAgICAgICQoJy5vY2N1cmFuY2UtZ3JvdXAtc2luZ2xlJywgZm9ybSkuZWFjaChmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciBzdGFydERhdGUgPSBGb3JtLnByb3RvdHlwZS5mb3JtYXREYXRlKFxuICAgICAgICAgICAgICAgICAgICAkKCdbbmFtZT1cInN0YXJ0X2RhdGVcIl0nLCB0aGlzKS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgJCgnW25hbWU9XCJzdGFydF90aW1lX2hcIl0nLCB0aGlzKS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgJCgnW25hbWU9XCJzdGFydF90aW1lX21cIl0nLCB0aGlzKS52YWwoKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdmFyIGVuZERhdGUgPSBGb3JtLnByb3RvdHlwZS5mb3JtYXREYXRlKFxuICAgICAgICAgICAgICAgICAgICAkKCdbbmFtZT1cImVuZF9kYXRlXCJdJywgdGhpcykudmFsKCksXG4gICAgICAgICAgICAgICAgICAgICQoJ1tuYW1lPVwiZW5kX3RpbWVfaFwiXScsIHRoaXMpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAkKCdbbmFtZT1cImVuZF90aW1lX21cIl0nLCB0aGlzKS52YWwoKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0RGF0ZSAmJiBlbmREYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iakRhdGFbJ29jY2FzaW9ucyddLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRfZGF0ZTogc3RhcnREYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kX2RhdGU6IGVuZERhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdzY2hlZHVsZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudF9tb2RlOiAnbWFzdGVyJyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFJlY3VycmluZyBvY2Nhc2lvbnNcbiAgICAgICAgICAgIG9iakRhdGFbJ3Jjcl9ydWxlcyddID0gW107XG4gICAgICAgICAgICAkKCcub2NjdXJhbmNlLWdyb3VwLXJlY3VycmluZycsIGZvcm0pLmVhY2goZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmNyU3RhcnRIID0gJCgnW25hbWU9XCJyZWN1cnJpbmdfc3RhcnRfaFwiXScsIHRoaXMpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICByY3JTdGFydE0gPSAkKCdbbmFtZT1cInJlY3VycmluZ19zdGFydF9tXCJdJywgdGhpcykudmFsKCk7XG4gICAgICAgICAgICAgICAgdmFyIHJjclN0YXJ0VGltZSA9XG4gICAgICAgICAgICAgICAgICAgIHJjclN0YXJ0SCAmJiByY3JTdGFydE1cbiAgICAgICAgICAgICAgICAgICAgICAgID8gRm9ybS5wcm90b3R5cGUuYWRkWmVybyhyY3JTdGFydEgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc6JyArXG4gICAgICAgICAgICAgICAgICAgICAgICBGb3JtLnByb3RvdHlwZS5hZGRaZXJvKHJjclN0YXJ0TSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzonICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIHJjckVuZEggPSAkKCdbbmFtZT1cInJlY3VycmluZ19lbmRfaFwiXScsIHRoaXMpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICByY3JFbmRNID0gJCgnW25hbWU9XCJyZWN1cnJpbmdfZW5kX21cIl0nLCB0aGlzKS52YWwoKTtcbiAgICAgICAgICAgICAgICB2YXIgcmNyRW5kVGltZSA9XG4gICAgICAgICAgICAgICAgICAgIHJjckVuZEggJiYgcmNyRW5kTVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBGb3JtLnByb3RvdHlwZS5hZGRaZXJvKHJjckVuZEgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc6JyArXG4gICAgICAgICAgICAgICAgICAgICAgICBGb3JtLnByb3RvdHlwZS5hZGRaZXJvKHJjckVuZE0pICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc6JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnMDAnXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciByY3JTdGFydERhdGUgPSBGb3JtLnByb3RvdHlwZS5pc1ZhbGlkRGF0ZShcbiAgICAgICAgICAgICAgICAgICAgJCgnW25hbWU9XCJyZWN1cnJpbmdfc3RhcnRfZFwiXScsIHRoaXMpLnZhbCgpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICA/ICQoJ1tuYW1lPVwicmVjdXJyaW5nX3N0YXJ0X2RcIl0nLCB0aGlzKS52YWwoKVxuICAgICAgICAgICAgICAgICAgICA6IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciByY3JFbmREYXRlID0gRm9ybS5wcm90b3R5cGUuaXNWYWxpZERhdGUoJCgnW25hbWU9XCJyZWN1cnJpbmdfZW5kX2RcIl0nLCB0aGlzKS52YWwoKSlcbiAgICAgICAgICAgICAgICAgICAgPyAkKCdbbmFtZT1cInJlY3VycmluZ19lbmRfZFwiXScsIHRoaXMpLnZhbCgpXG4gICAgICAgICAgICAgICAgICAgIDogZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAocmNyU3RhcnRUaW1lICYmIHJjckVuZFRpbWUgJiYgcmNyU3RhcnREYXRlICYmIHJjckVuZERhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqRGF0YVsncmNyX3J1bGVzJ10ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICByY3Jfd2Vla19kYXk6ICQoJ1tuYW1lPVwid2Vla2RheVwiXScsIHRoaXMpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmNyX3dlZWtseV9pbnRlcnZhbDogJCgnW25hbWU9XCJ3ZWVrbHlfaW50ZXJ2YWxcIl0nLCB0aGlzKS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJjcl9zdGFydF90aW1lOiByY3JTdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICByY3JfZW5kX3RpbWU6IHJjckVuZFRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICByY3Jfc3RhcnRfZGF0ZTogcmNyU3RhcnREYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmNyX2VuZF9kYXRlOiByY3JFbmREYXRlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCQoJyNvcmdhbml6ZXInLCBmb3JtKS52YWwoKSkge1xuICAgICAgICAgICAgICAgIG9iakRhdGFbJ29yZ2FuaXplcnMnXSA9IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3JnYW5pemVyOiAkKGZvcm0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJyNvcmdhbml6ZXInKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1haW5fb3JnYW5pemVyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFkZCBhY2Nlc3NpYmlsaXR5IGl0ZW1zXG4gICAgICAgICAgICBvYmpEYXRhWydhY2Nlc3NpYmlsaXR5J10gPSBbXTtcbiAgICAgICAgICAgICQuZWFjaCgkKFwiaW5wdXRbbmFtZT0nYWNjZXNzaWJpbGl0eSddOmNoZWNrZWRcIiksIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIG9iakRhdGFbJ2FjY2Vzc2liaWxpdHknXS5wdXNoKCQodGhpcykudmFsKCkpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG9iakRhdGFbJ3VzZXJfZ3JvdXBzJ10gPSBncm91cHM7XG4gICAgICAgICAgICBvYmpEYXRhWydldmVudF9jYXRlZ29yaWVzJ10gPSBjYXRlZ29yaWVzO1xuICAgICAgICAgICAgb2JqRGF0YVsnZXZlbnRfdGFncyddID0gdGFncztcblxuICAgICAgICAgICAgcmV0dXJuIG9iakRhdGE7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gU2VuZCBBamF4IHJlcXVlc3Qgd2l0aCBtZWRpYSBkYXRhXG4gICAgICAgIEZvcm0ucHJvdG90eXBlLnN1Ym1pdEltYWdlQWpheCA9IGZ1bmN0aW9uKGV2ZW50Rm9ybSwgaW1hZ2VEYXRhKSB7XG4gICAgICAgICAgICBpbWFnZURhdGEuYXBwZW5kKCdhY3Rpb24nLCAnc3VibWl0X2ltYWdlJyk7XG4gICAgICAgICAgICByZXR1cm4gJC5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6IGV2ZW50aW50ZWdyYXRpb24uYWpheHVybCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXG4gICAgICAgICAgICAgICAgZGF0YTogaW1hZ2VEYXRhLFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0ZXh0U3RhdHVzKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gU2VuZCBBamF4IHJlcXVlc3Qgd2l0aCBwb3N0IGRhdGFcbiAgICAgICAgRm9ybS5wcm90b3R5cGUuc3VibWl0RXZlbnRBamF4ID0gZnVuY3Rpb24oZXZlbnRGb3JtLCBmb3JtRGF0YSkge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6IGV2ZW50aW50ZWdyYXRpb24uYWpheHVybCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdzdWJtaXRfZXZlbnQnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuc3VibWl0LXN1Y2Nlc3MnLCBldmVudEZvcm0pLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5zdWJtaXQtc3VjY2VzcyAuc3VjY2VzcycsIGV2ZW50Rm9ybSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZW1wdHkoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJzxpIGNsYXNzPVwiZmEgZmEtc2VuZFwiPjwvaT5FdmVuZW1hbmdldCBoYXIgc2tpY2thdHMhPC9saT4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEZvcm0ucHJvdG90eXBlLmNsZWFuRm9ybShldmVudEZvcm0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuc3VibWl0LXN1Y2Nlc3MnLCBldmVudEZvcm0pLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5zdWJtaXQtZXJyb3InLCBldmVudEZvcm0pLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5zdWJtaXQtZXJyb3IgLndhcm5pbmcnLCBldmVudEZvcm0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVtcHR5KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCc8aSBjbGFzcz1cImZhIGZhLXdhcm5pbmdcIj48L2k+JyArIHJlc3BvbnNlLmRhdGEgKyAnPC9saT4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJy5zdWJtaXQtc3VjY2VzcycsIGV2ZW50Rm9ybSkuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICAkKCcuc3VibWl0LWVycm9yJywgZXZlbnRGb3JtKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5zdWJtaXQtZXJyb3IgLndhcm5pbmcnLCBldmVudEZvcm0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuZW1wdHkoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgnPGkgY2xhc3M9XCJmYSBmYS13YXJuaW5nXCI+PC9pPicgKyB0ZXh0U3RhdHVzICsgJzwvbGk+Jyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIEZvcm0ucHJvdG90eXBlLmVuZEhvdXJDaGFuZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnLm9jY3VycmVuY2UnKTtcbiAgICAgICAgICAgIGlmICh3cmFwcGVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0RGF0ZSA9IHdyYXBwZXIucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cInN0YXJ0X2RhdGVcIl0nKS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgZW5kRGF0ZSA9IHdyYXBwZXIucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImVuZF9kYXRlXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZUggPSB3cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJzdGFydF90aW1lX2hcIl0nKS52YWx1ZTtcblxuICAgICAgICAgICAgICAgIGlmIChzdGFydERhdGUgPj0gZW5kRGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuc2V0QXR0cmlidXRlKCdtaW4nLCBzdGFydFRpbWVIKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuc2V0QXR0cmlidXRlKCdtaW4nLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgRm9ybS5wcm90b3R5cGUuZW5kTWludXRlQ2hhbmdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5vY2N1cnJlbmNlJyk7XG4gICAgICAgICAgICBpZiAod3JhcHBlcikge1xuICAgICAgICAgICAgICAgIHZhciBzdGFydERhdGUgPSB3cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJzdGFydF9kYXRlXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGVuZERhdGUgPSB3cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJlbmRfZGF0ZVwiXScpLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWVIID0gd3JhcHBlci5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic3RhcnRfdGltZV9oXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGVuZFRpbWVIID0gd3JhcHBlci5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwiZW5kX3RpbWVfaFwiXScpLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWVNID0gd3JhcHBlci5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic3RhcnRfdGltZV9tXCJdJykudmFsdWU7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3RhcnREYXRlID49IGVuZERhdGUgJiYgc3RhcnRUaW1lSCA+PSBlbmRUaW1lSCkge1xuICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWVNID0gcGFyc2VJbnQoc3RhcnRUaW1lTSkgKyAxMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0VGltZU0gPj0gNjApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBwZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImVuZF90aW1lX2hcIl0nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRBdHRyaWJ1dGUoJ21pbicsIHBhcnNlSW50KHN0YXJ0VGltZUgpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuc2V0QXR0cmlidXRlKCdtaW4nLCBzdGFydFRpbWVNKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC5zZXRBdHRyaWJ1dGUoJ21pbicsIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBGb3JtLnByb3RvdHlwZS5pbml0UGlja2VyRXZlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W25hbWU9XCJzdGFydF9kYXRlXCJdJyk7XG4gICAgICAgICAgICBBcnJheS5mcm9tKGVsZW1lbnRzKS5mb3JFYWNoKFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5vbmNoYW5nZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3cmFwcGVyID0gZS50YXJnZXQuY2xvc2VzdCgnLm9jY3VycmVuY2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHdyYXBwZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCdpbnB1dFtuYW1lPVwiZW5kX2RhdGVcIl0nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZGF0ZXBpY2tlcignb3B0aW9uJywgJ21pbkRhdGUnLCBuZXcgRGF0ZShlLnRhcmdldC52YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcyk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIEZvcm0ucHJvdG90eXBlLmluaXRFbmRIb3VyRXZlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W25hbWU9XCJlbmRfdGltZV9oXCJdJyk7XG4gICAgICAgICAgICBBcnJheS5mcm9tKGVsZW1lbnRzKS5mb3JFYWNoKFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5vbmNoYW5nZSA9IHRoaXMuZW5kSG91ckNoYW5nZTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcylcbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgRm9ybS5wcm90b3R5cGUuaW5pdEVuZE1pbnV0ZUV2ZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtuYW1lPVwiZW5kX3RpbWVfbVwiXScpO1xuICAgICAgICAgICAgQXJyYXkuZnJvbShlbGVtZW50cykuZm9yRWFjaChcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQub25jaGFuZ2UgPSB0aGlzLmVuZE1pbnV0ZUNoYW5nZTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcylcbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgRm9ybS5wcm90b3R5cGUuaW5pdFJlY3VycmluZ0VuZEhvdXJFdmVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT1cInJlY3VycmluZ19lbmRfaFwiXScpO1xuICAgICAgICAgICAgQXJyYXkuZnJvbShlbGVtZW50cykuZm9yRWFjaChcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQub25jaGFuZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnLm9jY3VycmVuY2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3cmFwcGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0VGltZUggPSB3cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJyZWN1cnJpbmdfc3RhcnRfaFwiXScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuc2V0QXR0cmlidXRlKCdtaW4nLCBzdGFydFRpbWVIKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcylcbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgRm9ybS5wcm90b3R5cGUuaW5pdFJlY3VycmluZ0VuZE1pbnV0ZUV2ZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtuYW1lPVwicmVjdXJyaW5nX2VuZF9tXCJdJyk7XG4gICAgICAgICAgICBBcnJheS5mcm9tKGVsZW1lbnRzKS5mb3JFYWNoKFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5vbmNoYW5nZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgd3JhcHBlciA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcub2NjdXJyZW5jZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdyYXBwZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRUaW1lSCA9IHdyYXBwZXIucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cInJlY3VycmluZ19zdGFydF9oXCJdJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmRUaW1lSCA9IHdyYXBwZXIucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cInJlY3VycmluZ19lbmRfaFwiXScpLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydFRpbWVNID0gd3JhcHBlci5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwicmVjdXJyaW5nX3N0YXJ0X21cIl0nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRUaW1lSCA+PSBlbmRUaW1lSCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWVNID0gcGFyc2VJbnQoc3RhcnRUaW1lTSkgKyAxMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0VGltZU0gPj0gNjApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBwZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cInJlY3VycmluZ19lbmRfaFwiXScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNldEF0dHJpYnV0ZSgnbWluJywgcGFyc2VJbnQoc3RhcnRUaW1lSCkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC5zZXRBdHRyaWJ1dGUoJ21pbicsIHN0YXJ0VGltZU0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnNldEF0dHJpYnV0ZSgnbWluJywgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICBGb3JtLnByb3RvdHlwZS5pbml0RGF0ZUV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gU2luZ2xlIG9jY2FzaW9ucyBldmVudHNcbiAgICAgICAgICAgIHRoaXMuaW5pdFBpY2tlckV2ZW50KCk7XG4gICAgICAgICAgICB0aGlzLmluaXRFbmRIb3VyRXZlbnQoKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdEVuZE1pbnV0ZUV2ZW50KCk7XG5cbiAgICAgICAgICAgIC8vIFJlY3VycmluZyBkYXRlIGV2ZW50c1xuICAgICAgICAgICAgdGhpcy5pbml0UmVjdXJyaW5nRW5kSG91ckV2ZW50KCk7XG4gICAgICAgICAgICB0aGlzLmluaXRSZWN1cnJpbmdFbmRNaW51dGVFdmVudCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIEZvcm0ucHJvdG90eXBlLmRhdGVQaWNrZXJTZXR0aW5ncyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJC5kYXRlcGlja2VyLnNldERlZmF1bHRzKHtcbiAgICAgICAgICAgICAgICBtaW5EYXRlOiAnbm93JyxcbiAgICAgICAgICAgICAgICBtYXhEYXRlOiBuZXcgRGF0ZSgpLmdldERhdGUoKSArIDM2NSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIEZvcm0ucHJvdG90eXBlLmhhbmRsZUV2ZW50cyA9IGZ1bmN0aW9uKGV2ZW50Rm9ybSwgYXBpVXJsKSB7XG4gICAgICAgICAgICB0aGlzLmluaXREYXRlRXZlbnRzKCk7XG5cbiAgICAgICAgICAgICQoZXZlbnRGb3JtKS5vbihcbiAgICAgICAgICAgICAgICAnc3VibWl0JyxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZUlucHV0ID0gZXZlbnRGb3JtLmZpbmQoJyNpbWFnZV9pbnB1dCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEgPSB0aGlzLmpzb25EYXRhKGV2ZW50Rm9ybSksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZURhdGEgPSBuZXcgRm9ybURhdGEoKTtcblxuICAgICAgICAgICAgICAgICAgICAkKCcuc3VibWl0LWVycm9yJywgZXZlbnRGb3JtKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5zdWJtaXQtc3VjY2VzcycsIGV2ZW50Rm9ybSkucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICAkKCcuc3VibWl0LXN1Y2Nlc3MgLnN1Y2Nlc3MnLCBldmVudEZvcm0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuZW1wdHkoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgnPGkgY2xhc3M9XCJmYSBmYS1zZW5kXCI+PC9pPlNraWNrYXIuLi48L2xpPicpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwbG9hZCBtZWRpYSBmaXJzdCBhbmQgYXBwZW5kIGl0IHRvIHRoZSBwb3N0LlxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZUlucHV0LnZhbCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZURhdGEuYXBwZW5kKCdmaWxlJywgZmlsZUlucHV0WzBdLmZpbGVzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQud2hlbih0aGlzLnN1Ym1pdEltYWdlQWpheChldmVudEZvcm0sIGltYWdlRGF0YSkpLnRoZW4oZnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFN0YXR1c1xuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGFbJ2ZlYXR1cmVkX21lZGlhJ10gPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3JtLnByb3RvdHlwZS5zdWJtaXRFdmVudEFqYXgoZXZlbnRGb3JtLCBmb3JtRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnN1Ym1pdC1zdWNjZXNzJywgZXZlbnRGb3JtKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5zdWJtaXQtZXJyb3InLCBldmVudEZvcm0pLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnN1Ym1pdC1lcnJvciAud2FybmluZycsIGV2ZW50Rm9ybSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5lbXB0eSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aSBjbGFzcz1cImZhIGZhLXdhcm5pbmdcIj48L2k+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SW50ZWdyYXRpb25Gcm9udC5zb21ldGhpbmdfd2VudF93cm9uZyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2xpPidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdWJtaXQgcG9zdCBpZiBtZWRpYSBpcyBub3Qgc2V0XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN1Ym1pdEV2ZW50QWpheChldmVudEZvcm0sIGZvcm1EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gU2hvdyBpbWFnZSBhcHByb3ZhbCB0ZXJtc1xuICAgICAgICAgICAgJCgnLmltZy1idXR0b24nLCBldmVudEZvcm0pLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgJCgnLmltYWdlLWJveCcsIGV2ZW50Rm9ybSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoJy5pbWFnZS1hcHByb3ZlJywgZXZlbnRGb3JtKS5mYWRlSW4oKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBTaG93IHVwbG9hZGVyIGlmIHRlcm1zIGlzIGFwcHJvdmVkXG4gICAgICAgICAgICAkKCdpbnB1dFtuYW1lPWFwcHJvdmVdJywgZXZlbnRGb3JtKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0Q2hlY2sgPSAkKCdpbnB1dDpjaGVja2JveFtpZD1maXJzdC1hcHByb3ZlXTpjaGVja2VkJywgZXZlbnRGb3JtKS5sZW5ndGggPiAwO1xuICAgICAgICAgICAgICAgIHZhciByYWRpb0NoZWNrID0gJCgnaW5wdXQ6cmFkaW9bbmFtZT1hcHByb3ZlXTpjaGVja2VkJykudmFsKCk7XG4gICAgICAgICAgICAgICAgdmFyIHNlY29uZENoZWNrID0gJCgnaW5wdXQ6Y2hlY2tib3hbaWQ9c2Vjb25kLWFwcHJvdmVdOmNoZWNrZWQnLCBldmVudEZvcm0pLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICBpZiAoKGZpcnN0Q2hlY2sgJiYgcmFkaW9DaGVjayA9PSAwKSB8fMKgKGZpcnN0Q2hlY2sgJiYgc2Vjb25kQ2hlY2spKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJy5pbWFnZS1hcHByb3ZlJywgZXZlbnRGb3JtKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5pbWFnZS11cGxvYWQnLCBldmVudEZvcm0pLmZhZGVJbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKCdpbnB1dDpyYWRpb1tuYW1lPWFwcHJvdmVdJykuY2hhbmdlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlID09IDEpIHtcbiAgICAgICAgICAgICAgICAkKCcjcGVyc29ucy1hcHByb3ZlJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKCcjcGVyc29ucy1hcHByb3ZlJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFNob3cvaGlkZSBvY2Nhc2lvbiBhbmQgcmVjY3VyaW5nIG9jY2FzaW9uIHJ1bGVzLiBBbmQgYWRkIHJlcXVpcmVkIGZpZWxkcy5cbiAgICAgICAgICAgICQoJ2lucHV0OnJhZGlvW25hbWU9b2NjdXJhbmNlLXR5cGVdJywgZXZlbnRGb3JtKS5jaGFuZ2UoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgaWQgPSAkKHRoaXMpLmRhdGEoJ2lkJyk7XG4gICAgICAgICAgICAgICAgJCgnIycgKyBpZClcbiAgICAgICAgICAgICAgICAgICAgLmNoaWxkcmVuKCcuZm9ybS1ncm91cCAuYm94JylcbiAgICAgICAgICAgICAgICAgICAgLnNob3coKVxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnaW5wdXQnKVxuICAgICAgICAgICAgICAgICAgICAucHJvcCgncmVxdWlyZWQnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAkKCcjJyArIGlkKVxuICAgICAgICAgICAgICAgICAgICAuc2libGluZ3MoJy5ldmVudC1vY2Nhc2lvbicpXG4gICAgICAgICAgICAgICAgICAgIC5jaGlsZHJlbignLmJveCcpXG4gICAgICAgICAgICAgICAgICAgIC5oaWRlKClcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ2lucHV0JylcbiAgICAgICAgICAgICAgICAgICAgLnByb3AoJ3JlcXVpcmVkJywgZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEFkZCBuZXcgb2NjdXJhbmNlXG4gICAgICAgICAgICAkKCcuYWRkLW9jY3VyYW5jZScsIGV2ZW50Rm9ybSkuY2xpY2soXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRvY2N1cmFuY2VHcm91cCA9ICQoZXZlbnQudGFyZ2V0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5wYXJlbnQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5wcmV2KCdbY2xhc3MqPW9jY3VyYW5jZS1ncm91cF0nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICRkdXBsaWNhdGUgPSAkb2NjdXJhbmNlR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2xvbmUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCdpbnB1dCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnZhbCgnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2hhc0RhdGVwaWNrZXInKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdpZCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVuZCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluc2VydEFmdGVyKCRvY2N1cmFuY2VHcm91cClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnLmRhdGVwaWNrZXInKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kYXRlcGlja2VyKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZW5kKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUmUgaW5pdCBkYXRlIGV2ZW50c1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXREYXRlRXZlbnRzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCQoJy5yZW1vdmUtb2NjdXJhbmNlJywgJGR1cGxpY2F0ZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgJHJlbW92ZUJ1dHRvbiA9ICQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4gYnRuLXNtIHJlbW92ZS1vY2N1cmFuY2VcIj48aSBjbGFzcz1cInByaWNvbiBwcmljb24tbWludXMtb1wiPjwvaT4gVGEgYm9ydDwvYnV0dG9uPjwvZGl2PidcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkZHVwbGljYXRlLmFwcGVuZCgkcmVtb3ZlQnV0dG9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gUmVtb3ZlIG9jY3VyYW5jZVxuICAgICAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5yZW1vdmUtb2NjdXJhbmNlJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgICAgICAgICAgIC5jbG9zZXN0KCdbY2xhc3MqPW9jY3VyYW5jZS1ncm91cF0nKVxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBDbGVhbiB1cCBmb3JtXG4gICAgICAgIEZvcm0ucHJvdG90eXBlLmNsZWFuRm9ybSA9IGZ1bmN0aW9uKGV2ZW50Rm9ybSkge1xuICAgICAgICAgICAgJCgnOmlucHV0JywgZXZlbnRGb3JtKVxuICAgICAgICAgICAgICAgIC5ub3QoJzpidXR0b24sIDpzdWJtaXQsIDpyZXNldCwgOmhpZGRlbiwgc2VsZWN0JylcbiAgICAgICAgICAgICAgICAudmFsKCcnKVxuICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdzZWxlY3RlZCcpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEZvcm1hdCBkYXRlIGFuZCB0aW1lXG4gICAgICAgIEZvcm0ucHJvdG90eXBlLmZvcm1hdERhdGUgPSBmdW5jdGlvbihkYXRlLCBoaCwgbW0pIHtcbiAgICAgICAgICAgIHZhciBkYXRlVGltZSA9ICcnO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNWYWxpZERhdGUoZGF0ZSkgJiYgaGggJiYgbW0pIHtcbiAgICAgICAgICAgICAgICBkYXRlVGltZSA9IGRhdGUgKyAnICcgKyB0aGlzLmFkZFplcm8oaGgpICsgJzonICsgdGhpcy5hZGRaZXJvKG1tKSArICc6MDAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRhdGVUaW1lO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIENoZWNrIHZhbGlkIGRhdGUgZm9ybWF0XG4gICAgICAgIEZvcm0ucHJvdG90eXBlLmlzVmFsaWREYXRlID0gZnVuY3Rpb24oZGF0ZVN0cmluZykge1xuICAgICAgICAgICAgdmFyIHJlZ0V4ID0gL15cXGR7NH0tXFxkezJ9LVxcZHsyfSQvO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGVTdHJpbmcubWF0Y2gocmVnRXgpICE9IG51bGw7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUHJlZml4IHdpdGggemVyb1xuICAgICAgICBGb3JtLnByb3RvdHlwZS5hZGRaZXJvID0gZnVuY3Rpb24oaSkge1xuICAgICAgICAgICAgaWYgKGkudG9TdHJpbmcoKS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBpID0gJzAnICsgaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXcgRm9ybSgpO1xuICAgIH0pKGpRdWVyeSk7XG5cbn0pKCk7XG4iLCJleHBvcnQgZGVmYXVsdCAoKCkgPT4ge1xuXG4gICAgLy9Jbml0IGV2ZW50IHdpZGdldFxuICAgIGlmKCFFdmVudE1hbmFnZXJJbnRlZ3JhdGlvbil7IHZhciBFdmVudE1hbmFnZXJJbnRlZ3JhdGlvbiA9IHt9OyB9XG5cbiAgICBFdmVudE1hbmFnZXJJbnRlZ3JhdGlvbi5XaWRnZXQgPSBFdmVudE1hbmFnZXJJbnRlZ3JhdGlvbi5XaWRnZXQgfHwge307XG5cbiAgICAvL0NvbXBvbmVudFxuICAgIEV2ZW50TWFuYWdlckludGVncmF0aW9uLldpZGdldC5UZW1wbGF0ZVBhcnNlciA9IChmdW5jdGlvbiAoJCkge1xuICAgICAgICB2YXIgZGF0ZSAgICAgICAgICAgICAgICA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHZhciBkZCAgICAgICAgICAgICAgICAgID0gZGF0ZS5nZXREYXRlKCk7XG4gICAgICAgIHZhciBtbSAgICAgICAgICAgICAgICAgID0gZGF0ZS5nZXRNb250aCgpKzE7XG4gICAgICAgIHZhciB5ZWFyICAgICAgICAgICAgICAgID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICB2YXIgbW9udGhzICAgICAgICAgICAgICA9IFtcImphblwiLCBcImZlYlwiLCBcIm1hclwiLCBcImFwclwiLCBcIm1halwiLCBcImp1blwiLCBcImp1bFwiLCBcImF1Z1wiLCBcInNlcFwiLCBcIm9rdFwiLCBcIm5vdlwiLCBcImRlY1wiXTtcblxuICAgICAgICB2YXIgdGVtcGxhdGUgICAgICAgICAgICA9IHt9O1xuICAgICAgICB2YXIgZXJyb3JUZW1wbGF0ZSAgICAgICA9IHt9O1xuXG4gICAgICAgIGZ1bmN0aW9uIFRlbXBsYXRlUGFyc2VyKCkge1xuICAgICAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBUZW1wbGF0ZVBhcnNlci5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoXCIuZXZlbnQtYXBpXCIpLmVhY2goZnVuY3Rpb24oaW5kZXgsbW9kdWxlKXtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YUFwaXVybCAgICAgICAgICA9ICgkKG1vZHVsZSkuYXR0cignZGF0YS1hcGl1cmwnKSk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFBcGl1cmwgICAgICAgICAgPSBkYXRhQXBpdXJsLnJlcGxhY2UoL1xcLyQvLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YUFwaXVybCAgICAgICAgICA9IGRhdGFBcGl1cmwgKyAnL2V2ZW50L3RpbWU/c3RhcnQ9JyArIHllYXIgKyAnLScgKyBtbSArICctJyArIGRkICsgJyZlbmQ9JyArICh5ZWFyKzEpICsgJy0nICsgbW0gKyAnLScgKyBkZDtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YUxpbWl0ICAgICAgICAgICA9ICgkKG1vZHVsZSkuYXR0cigncG9zdC1saW1pdCcpKTtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YUdyb3VwSWQgICAgICAgICA9ICgkKG1vZHVsZSkuYXR0cignZ3JvdXAtaWQnKSk7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGFDYXRlZ29yeUlkICAgICAgPSAoJChtb2R1bGUpLmF0dHIoJ2NhdGVnb3J5LWlkJykpO1xuICAgICAgICAgICAgICAgIHZhciBsYXRsbmcgICAgICAgICAgICAgID0gKCQobW9kdWxlKS5hdHRyKCdsYXRsbmcnKSk7XG4gICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlICAgICAgICAgICAgPSAoJChtb2R1bGUpLmF0dHIoJ2Rpc3RhbmNlJykpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGFwaVVybCA9ICh0eXBlb2YgZGF0YUxpbWl0ICE9ICd1bmRlZmluZWQnICYmICQuaXNOdW1lcmljKGRhdGFMaW1pdCkpID8gZGF0YUFwaXVybCArICcmcG9zdC1saW1pdD0nICsgZGF0YUxpbWl0IDogZGF0YUFwaXVybCArICcmcG9zdC1saW1pdD0nICsgMTA7XG4gICAgICAgICAgICAgICAgICAgIGFwaVVybCArPSAodHlwZW9mIGRhdGFHcm91cElkICE9ICd1bmRlZmluZWQnICYmwqBkYXRhR3JvdXBJZCkgPyAnJmdyb3VwLWlkPScgKyBkYXRhR3JvdXBJZCA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBhcGlVcmwgKz0gKHR5cGVvZiBkYXRhQ2F0ZWdvcnlJZCAhPSAndW5kZWZpbmVkJyAmJiBkYXRhQ2F0ZWdvcnlJZCkgPyAnJmNhdGVnb3J5LWlkPScgKyBkYXRhQ2F0ZWdvcnlJZCA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBhcGlVcmwgKz0gKHR5cGVvZiBsYXRsbmcgIT0gJ3VuZGVmaW5lZCcgJiYgbGF0bG5nKSA/ICcmbGF0bG5nPScgKyBsYXRsbmcgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgYXBpVXJsICs9ICh0eXBlb2YgZGlzdGFuY2UgIT0gJ3VuZGVmaW5lZCcgJiYgZGlzdGFuY2UpID8gJyZkaXN0YW5jZT0nICsgZGlzdGFuY2UgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgYXBpVXJsICs9ICcmX2pzb25wPWdldGV2ZW50cyc7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZUVycm9yVGVtcGxhdGUoJChtb2R1bGUpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlVGVtcGxhdGUoJChtb2R1bGUpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlTW9kYWxUZW1wbGF0ZSgkKG1vZHVsZSkpO1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZEV2ZW50KCQobW9kdWxlKSxhcGlVcmwpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfTtcblxuICAgICAgICBUZW1wbGF0ZVBhcnNlci5wcm90b3R5cGUuc3RvcmVUZW1wbGF0ZSA9IGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgICAgICAgICAgIG1vZHVsZS5kYXRhKCd0ZW1wbGF0ZScsJCgnLnRlbXBsYXRlJyxtb2R1bGUpLmh0bWwoKSk7XG4gICAgICAgICAgICBtb2R1bGUuZmluZCgnLnRlbXBsYXRlJykucmVtb3ZlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgVGVtcGxhdGVQYXJzZXIucHJvdG90eXBlLnN0b3JlRXJyb3JUZW1wbGF0ZSA9IGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgICAgICAgICAgIG1vZHVsZS5kYXRhKCdlcnJvci10ZW1wbGF0ZScsJCgnLmVycm9yLXRlbXBsYXRlJyxtb2R1bGUpLmh0bWwoKSk7XG4gICAgICAgICAgICBtb2R1bGUuZmluZCgnLmVycm9yLXRlbXBsYXRlJykucmVtb3ZlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgVGVtcGxhdGVQYXJzZXIucHJvdG90eXBlLnN0b3JlTW9kYWxUZW1wbGF0ZSA9IGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgICAgICAgICAgIG1vZHVsZS5kYXRhKCdtb2RhbC10ZW1wbGF0ZScsJCgnLm1vZGFsLXRlbXBsYXRlJyxtb2R1bGUpLmh0bWwoKSk7XG4gICAgICAgICAgICBtb2R1bGUuZmluZCgnLm1vZGFsLXRlbXBsYXRlJykucmVtb3ZlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgVGVtcGxhdGVQYXJzZXIucHJvdG90eXBlLmxvYWRFdmVudCA9IGZ1bmN0aW9uKG1vZHVsZSwgcmVzb3VyY2UpIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcbiAgICAgICAgICAgICAgICB1cmw6IHJlc291cmNlLFxuICAgICAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29ucFwiLFxuICAgICAgICAgICAgICAgIGpzb25wQ2FsbGJhY2s6ICdnZXRldmVudHMnLFxuICAgICAgICAgICAgICAgIGNyb3NzRG9tYWluOiB0cnVlLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCByZXNwb25zZSApIHtcbiAgICAgICAgICAgICAgICAgICAgLy9TdG9yZSByZXNwb25zZSBvbiBtb2R1bGVcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlLmRhdGEoJ2pzb24tcmVzcG9uc2UnLCByZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy9DbGVhciB0YXJnZXQgZGl2XG4gICAgICAgICAgICAgICAgICAgIFRlbXBsYXRlUGFyc2VyLnByb3RvdHlwZS5jbGVhcihtb2R1bGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICQocmVzcG9uc2UpLmVhY2goZnVuY3Rpb24oaW5kZXgsZXZlbnQpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIGNvcnJlY3Qgb2NjYXNpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudE9jY2FzaW9uID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChldmVudC5vY2Nhc2lvbnMsIGZ1bmN0aW9uKG9jY2F0aW9uaW5kZXgsb2NjYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9jY2F0aW9uLmN1cnJlbnRfb2NjYXNpb24gIT0gJ3VuZGVmaW5lZCcgJiYgb2NjYXRpb24uY3VycmVudF9vY2Nhc2lvbiA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50T2NjYXNpb24gPSBvY2NhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2NjYXNpb25EYXRlICAgID0gbmV3IERhdGUoZXZlbnRPY2Nhc2lvbi5zdGFydF9kYXRlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9Mb2FkIHRlbXBsYXRlIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2R1bGVUZW1wbGF0ZSAgPSBtb2R1bGUuZGF0YSgndGVtcGxhdGUnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9SZXBsYWNlIHdpdGggdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVUZW1wbGF0ZSAgICAgID0gbW9kdWxlVGVtcGxhdGUucmVwbGFjZSgne2V2ZW50LWlkfScsIGV2ZW50LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZVRlbXBsYXRlICAgICAgPSBtb2R1bGVUZW1wbGF0ZS5yZXBsYWNlKCd7ZXZlbnQtb2NjYXNpb259Jywgb2NjYXNpb25EYXRlLmdldERhdGUoKSArICc8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj4nICsgbW9udGhzW29jY2FzaW9uRGF0ZS5nZXRNb250aCgpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVUZW1wbGF0ZSAgICAgID0gbW9kdWxlVGVtcGxhdGUucmVwbGFjZSgne2V2ZW50LXRpdGxlfScsICc8cCBjbGFzcz1cImxpbmstaXRlbVwiPicgKyBldmVudC50aXRsZS5yZW5kZXJlZCArICc8L3A+Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vQXBwZW5kXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGUuYXBwZW5kKG1vZHVsZVRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vYmluZCBjbGlja1xuICAgICAgICAgICAgICAgICAgICBUZW1wbGF0ZVBhcnNlci5wcm90b3R5cGUuY2xpY2sobW9kdWxlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG4gICAgICAgICAgICAgICAgICAgIFRlbXBsYXRlUGFyc2VyLnByb3RvdHlwZS5jbGVhcihtb2R1bGUpO1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGUuaHRtbChtb2R1bGUuZGF0YSgnZXJyb3ItdGVtcGxhdGUnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICB9O1xuXG4gICAgICAgIFRlbXBsYXRlUGFyc2VyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKG1vZHVsZSl7XG4gICAgICAgICAgICBqUXVlcnkobW9kdWxlKS5odG1sKCcnKTtcbiAgICAgICAgfTtcblxuICAgICAgICBUZW1wbGF0ZVBhcnNlci5wcm90b3R5cGUuYWRkWmVybyA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICBpZiAoaSA8IDEwKSB7XG4gICAgICAgICAgICAgICAgaSA9IFwiMFwiICsgaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9O1xuXG4gICAgICAgIFRlbXBsYXRlUGFyc2VyLnByb3RvdHlwZS5jbGljayA9IGZ1bmN0aW9uKG1vZHVsZSl7XG5cbiAgICAgICAgICAgIGpRdWVyeShcImxpIGFcIixtb2R1bGUpLm9uKCdjbGljaycse30sZnVuY3Rpb24oZSl7XG5cbiAgICAgICAgICAgICAgICB2YXIgZXZlbnRJZCA9IGpRdWVyeShlLnRhcmdldCkuY2xvc2VzdChcImEubW9kYWwtZXZlbnRcIikuZGF0YSgnZXZlbnQtaWQnKTtcblxuICAgICAgICAgICAgICAgICQuZWFjaChtb2R1bGUuZGF0YSgnanNvbi1yZXNwb25zZScpLCBmdW5jdGlvbihpbmRleCxvYmplY3QpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZihvYmplY3QuaWQgPT0gZXZlbnRJZCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNYWluIG1vZGFsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxUZW1wbGF0ZSA9IG1vZHVsZS5kYXRhKCdtb2RhbC10ZW1wbGF0ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsVGVtcGxhdGUgPSBtb2RhbFRlbXBsYXRlLnJlcGxhY2UoJ3tldmVudC1tb2RhbC10aXRsZX0nLCBvYmplY3QudGl0bGUucmVuZGVyZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsVGVtcGxhdGUgPSBtb2RhbFRlbXBsYXRlLnJlcGxhY2UoJ3tldmVudC1tb2RhbC1jb250ZW50fScsIChvYmplY3QuY29udGVudC5yZW5kZXJlZCAhPSBudWxsKSA/IG9iamVjdC5jb250ZW50LnJlbmRlcmVkIDogJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsVGVtcGxhdGUgPSBtb2RhbFRlbXBsYXRlLnJlcGxhY2UoJ3tldmVudC1tb2RhbC1saW5rfScsIChvYmplY3QuZXZlbnRfbGluayAhPSBudWxsKSA/ICc8cD48YSBocmVmPVwiJyArIG9iamVjdC5ldmVudF9saW5rICsgJ1wiIHRhcmdldD1cIl9ibGFua1wiPicgKyBvYmplY3QuZXZlbnRfbGluayArICc8L2E+PC9wPicgOiAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWxUZW1wbGF0ZSA9IG1vZGFsVGVtcGxhdGUucmVwbGFjZSgne2V2ZW50LW1vZGFsLWltYWdlfScsIChvYmplY3QuZmVhdHVyZWRfbWVkaWEgIT0gbnVsbCkgPyAnPGltZyBzcmM9JyArIG9iamVjdC5mZWF0dXJlZF9tZWRpYS5zb3VyY2VfdXJsICsgJyBhbHQ9XCInICsgb2JqZWN0LnRpdGxlLnJlbmRlcmVkICsgJ1wiIHN0eWxlPVwiZGlzcGxheTpibG9jazsgd2lkdGg6MTAwJTtcIj4nIDogJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9jY2F0aW9ucyBhY2NvcmRpb24gc2VjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbE9jY2F0aW9uUmVzdWx0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2gob2JqZWN0Lm9jY2FzaW9ucywgZnVuY3Rpb24ob2NjYXRpb25pbmRleCxvY2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3JtYXQgc3RhcnQgYW5kIGVuZCBkYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkID0gbmV3IERhdGUob2NjYXRpb24uc3RhcnRfZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IHRoaXMuYWRkWmVybyhkLmdldERhdGUoKSkgKyAnICcgKyBtb250aHNbZC5nZXRNb250aCgpXSArICcgJyArIGQuZ2V0RnVsbFllYXIoKSArICcga2wuICcgKyB0aGlzLmFkZFplcm8oZC5nZXRIb3VycygpKSArICc6JyArIHRoaXMuYWRkWmVybyhkLmdldE1pbnV0ZXMoKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSBuZXcgRGF0ZShvY2NhdGlvbi5lbmRfZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5nZXREYXRlKCkgPT09IGQuZ2V0RGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSAna2wuICcgKyB0aGlzLmFkZFplcm8oZS5nZXRIb3VycygpKSArICc6JyArIHRoaXMuYWRkWmVybyhlLmdldE1pbnV0ZXMoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBlLmdldERhdGUoKSArICcgJyArIG1vbnRoc1tlLmdldE1vbnRoKCldICsgJyAnICsgZS5nZXRGdWxsWWVhcigpICsgJyBrbC4gJyArIHRoaXMuYWRkWmVybyhlLmdldEhvdXJzKCkpICsgJzonICsgdGhpcy5hZGRaZXJvKGUuZ2V0TWludXRlcygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbE9jY2F0aW9uUmVzdWx0ID0gbW9kYWxPY2NhdGlvblJlc3VsdCArICc8bGkgY2xhc3M9XCJ0ZXh0LXNtIGd1dHRlci1zbSBndXR0ZXItdmVydGljYWxcIj4nICsgc3RhcnQgKyAnIC0gJyArIGVuZCArICc8L2xpPic7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsVGVtcGxhdGUgPSBtb2RhbFRlbXBsYXRlLnJlcGxhY2UoJ3tldmVudC1tb2RhbC1vY2NhdGlvbnN9JywnPHNlY3Rpb24gY2xhc3M9XCJhY2NvcmRpb24tc2VjdGlvblwiPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiYWN0aXZlLXNlY3Rpb25cIiBpZD1cImFjY29yZGlvbi1zZWN0aW9uLTFcIj48bGFiZWwgY2xhc3M9XCJhY2NvcmRpb24tdG9nZ2xlXCIgZm9yPVwiYWNjb3JkaW9uLXNlY3Rpb24tMVwiPjxoMj5FdmVuZW1hbmdldCBpbnRyw6RmZmFyPC9oMj48L2xhYmVsPjxkaXYgY2xhc3M9XCJhY2NvcmRpb24tY29udGVudFwiPjx1bCBpZD1cIm1vZGFsLW9jY2F0aW9uc1wiPicgKyBtb2RhbE9jY2F0aW9uUmVzdWx0ICsgJzwvdWw+PC9kaXY+PC9zZWN0aW9uPicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExvY2F0aW9uIGFjY29yZGlvbiBzZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uRGF0YSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uRGF0YSArPSAob2JqZWN0LmxvY2F0aW9uICE9IG51bGwgJiYgb2JqZWN0LmxvY2F0aW9uLnRpdGxlICE9IG51bGwpID8gJzxsaT48c3Ryb25nPicgKyBvYmplY3QubG9jYXRpb24udGl0bGUgKyAnPC9zdHJvbmc+PC9saT4nIDogJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uRGF0YSArPSAob2JqZWN0LmxvY2F0aW9uICE9IG51bGwgJiYgb2JqZWN0LmxvY2F0aW9uLnN0cmVldF9hZGRyZXNzICE9IG51bGwpID8gJzxsaT4nICsgb2JqZWN0LmxvY2F0aW9uLnN0cmVldF9hZGRyZXNzICsgJzwvbGk+JyA6ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbkRhdGEgKz0gKG9iamVjdC5sb2NhdGlvbiAhPSBudWxsICYmIG9iamVjdC5sb2NhdGlvbi5wb3N0YWxfY29kZSAhPSBudWxsKSA/ICc8bGk+JyArIG9iamVjdC5sb2NhdGlvbi5wb3N0YWxfY29kZSArICc8L2xpPicgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25EYXRhICs9IChvYmplY3QubG9jYXRpb24gIT0gbnVsbCAmJiBvYmplY3QubG9jYXRpb24uY2l0eSAhPSBudWxsKSA/ICc8aWw+JyArIG9iamVjdC5sb2NhdGlvbi5jaXR5ICsgJzwvbGk+JyA6ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IChsb2NhdGlvbkRhdGEpID8gJzxzZWN0aW9uIGNsYXNzPVwiYWNjb3JkaW9uLXNlY3Rpb25cIj48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImFjdGl2ZS1zZWN0aW9uXCIgaWQ9XCJhY2NvcmRpb24tc2VjdGlvbi0yXCI+PGxhYmVsIGNsYXNzPVwiYWNjb3JkaW9uLXRvZ2dsZVwiIGZvcj1cImFjY29yZGlvbi1zZWN0aW9uLTJcIj48aDI+UGxhdHM8L2gyPjwvbGFiZWw+PGRpdiBjbGFzcz1cImFjY29yZGlvbi1jb250ZW50XCI+PHVsPicgKyBsb2NhdGlvbkRhdGEgKyAnPC91bD48L2Rpdj48L3NlY3Rpb24+JyA6ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsVGVtcGxhdGUgPSBtb2RhbFRlbXBsYXRlLnJlcGxhY2UoJ3tldmVudC1tb2RhbC1sb2NhdGlvbn0nLCBsb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQm9vb2tpbmcgYWNjb3JkaW9uIHNlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYm9va2luZ0RhdGEgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib29raW5nRGF0YSArPSAob2JqZWN0LmJvb2tpbmdfcGhvbmUgIT0gbnVsbCkgPyAnPGxpPlRlbGVmb246ICcgKyBvYmplY3QuYm9va2luZ19waG9uZSArICc8L2xpPicgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9va2luZ0RhdGEgKz0gKG9iamVjdC5wcmljZV9hZHVsdCAhPSBudWxsKSA/ICc8bGk+UHJpczogJyArIG9iamVjdC5wcmljZV9hZHVsdCArICcga3I8L2xpPicgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9va2luZ0RhdGEgKz0gKG9iamVjdC5wcmljZV9jaGlsZHJlbiAhPSBudWxsKSA/ICc8bGk+QmFybnByaXM6ICcgKyBvYmplY3QucHJpY2VfY2hpbGRyZW4gKyAnIGtyPC9saT4nIDogJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb2tpbmdEYXRhICs9IChvYmplY3QucHJpY2Vfc2VuaW9yICE9IG51bGwpID8gJzxsaT5QZW5zaW9uw6Ryc3ByaXM6ICcgKyBvYmplY3QucHJpY2Vfc2VuaW9yICsgJyBrcjwvbGk+JyA6ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib29raW5nRGF0YSArPSAob2JqZWN0LnByaWNlX3N0dWRlbnQgIT0gbnVsbCkgPyAnPGxpPlN0dWRlbnRwcmlzOiAnICsgb2JqZWN0LnByaWNlX3N0dWRlbnQgKyAnIGtyPC9saT4nIDogJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb2tpbmdEYXRhICs9IChvYmplY3QuYWdlX3Jlc3RyaWN0aW9uICE9IG51bGwpID8gJzxsaT7DhWxkZXJzZ3LDpG5zOiAnICsgb2JqZWN0LmFnZV9yZXN0cmljdGlvbiArICcga3I8L2xpPicgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVtYmVyc2hpcENhcmRzID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2gob2JqZWN0Lm1lbWJlcnNoaXBfY2FyZHMsIGZ1bmN0aW9uKGNhcmRpbmRleCxjYXJkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbWJlcnNoaXBDYXJkcyA9IG1lbWJlcnNoaXBDYXJkcyArICc8bGk+JyArIGNhcmQucG9zdF90aXRsZSArICc8L2xpPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9va2luZ0RhdGEgKz0gKG1lbWJlcnNoaXBDYXJkcykgPyAnPGxpPiZuYnNwOzwvbGk+PGxpPjxzdHJvbmc+SW5nw6VyIGkgbWVkbGVtc2tvcnQ8L3N0cm9uZz48L2xpPicgKyBtZW1iZXJzaGlwQ2FyZHMgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9va2luZ0RhdGEgKz0gKG9iamVjdC5ib29raW5nX2xpbmsgIT0gbnVsbCkgPyAnPGxpPiZuYnNwOzwvbGk+PGxpPjxhIGhyZWY9XCInICsgb2JqZWN0LmJvb2tpbmdfbGluayArICdcIiBjbGFzcz1cImxpbmstaXRlbVwiIHRhcmdldD1cIl9ibGFua1wiPkJva2EgYmxqZXR0ZXIgaMOkcjwvYT48L2xpPicgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYm9va2luZyA9IChib29raW5nRGF0YSkgPyAnPHNlY3Rpb24gY2xhc3M9XCJhY2NvcmRpb24tc2VjdGlvblwiPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiYWN0aXZlLXNlY3Rpb25cIiBpZD1cImFjY29yZGlvbi1zZWN0aW9uLTNcIj48bGFiZWwgY2xhc3M9XCJhY2NvcmRpb24tdG9nZ2xlXCIgZm9yPVwiYWNjb3JkaW9uLXNlY3Rpb24tM1wiPjxoMj5Cb2tuaW5nPC9oMj48L2xhYmVsPjxkaXYgY2xhc3M9XCJhY2NvcmRpb24tY29udGVudFwiPjx1bD4nICsgYm9va2luZ0RhdGEgKyAnPC91bD48L2Rpdj48L3NlY3Rpb24+JyA6ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsVGVtcGxhdGUgPSBtb2RhbFRlbXBsYXRlLnJlcGxhY2UoJ3tldmVudC1tb2RhbC1ib29raW5nfScsIGJvb2tpbmcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjbW9kYWwtZXZlbnQnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ2JvZHknKS5hcHBlbmQobW9kYWxUZW1wbGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV3IFRlbXBsYXRlUGFyc2VyKCk7XG5cbiAgICB9KShqUXVlcnkpO1xuXG59KSgpOyJdLCJzb3VyY2VSb290IjoiIn0=
//# sourceMappingURL=event-integration-front.2fb86e6a4c6d0ee534de.js.map